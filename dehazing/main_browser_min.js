(function(){function S(N,T,O){function F(G,K){if(!T[G]){if(!N[G]){var Q="function"==typeof require&&require;if(!K&&Q)return Q(G,!0);if(V)return V(G,!0);var $=new Error("Cannot find module '"+G+"'");throw $.code="MODULE_NOT_FOUND",$}var J=T[G]={exports:{}};N[G][0].call(J.exports,function(Y){var X=N[G][1][Y];return F(X||Y)},J,J.exports,S,N,T,O)}return T[G].exports}for(var V="function"==typeof require&&require,H=0;H<O.length;H++)F(O[H]);return F}return S})()({1:[function(S,N){N.exports=function(){var F,V,H=[];this.init=void(F=navigator.hardwareConcurrency||4),this.getCores=function(){return F},this.resample_auto=function(G,K,Q,$,J){var Y=this.getCores();window.Worker&&1<Y?this.resample(G,K,Q,$,J):(this.resample_single(G,K,Q,!0),void 0!=J&&J())},this.resize_image=function(G,K,Q,$,J){var Y=document.getElementById(G),X=document.createElement("canvas");if(X.width=Y.width,X.height=Y.height,X.getContext("2d").drawImage(Y,0,0),void 0==K&&void 0==Q&&void 0!=$&&(K=Y.width/100*$,Q=Y.height/100*$),void 0==Q){var ee=Y.width/K;Q=Y.height/ee}K=Math.round(K),Q=Math.round(Q);var te=function(){var ne=X.toDataURL();Y.width=K,Y.height=Q,Y.src=ne,ne=null,X=null};void 0==J||1==J?this.resample(X,K,Q,!0,te):(this.resample_single(X,K,Q,!0),te())},this.resample=function(G,K,Q,$,J){var Y=G.width,X=G.height;K=Math.round(K);var ee=X/(Q=Math.round(Q));if(0<H.length)for(oe=0;oe<F;oe++)void 0!=H[oe]&&(H[oe].terminate(),delete H[oe]);H=Array(F);for(var se,te=G.getContext("2d"),ne=[],ae=2*Math.ceil(X/F/2),ie=-1,oe=0;oe<F;oe++)if(se=ie+1,!(se>=X)){ie=se+ae-1,ie=Math.min(ie,X-1);var ye=ae;ye=Math.min(ae,X-se),ne[oe]={},ne[oe].source=te.getImageData(0,se,Y,ae),ne[oe].target=!0,ne[oe].start_y=Math.ceil(se/ee),ne[oe].height=ye}!0===$?(G.width=K,G.height=Q):te.clearRect(0,0,Y,X);for(var le=0,oe=0;oe<F;oe++)if(void 0!=ne[oe].target){le++;var xe=new Worker(V);H[oe]=xe,xe.onmessage=function(pe){le--;var ce=pe.data.core;H[ce].terminate(),delete H[ce];var ue=Math.ceil(ne[ce].height/ee);ne[ce].target=te.createImageData(K,ue),ne[ce].target.data.set(pe.data.target),te.putImageData(ne[ce].target,0,ne[ce].start_y),0>=le&&void 0!=J&&J()};var de={width_source:Y,height_source:ne[oe].height,width:K,height:Math.ceil(ne[oe].height/ee),core:oe,source:ne[oe].source.data.buffer};xe.postMessage(de,[de.source])}},V=window.URL.createObjectURL(new Blob(["(",function(){onmessage=function(G){for(var K=G.data.core,Q=G.data.width_source,$=G.data.height_source,J=G.data.width,Y=G.data.height,X=Q/J,ee=$/Y,te=Math.ceil(X/2),ne=Math.ceil(ee/2),ae=new Uint8ClampedArray(G.data.source),ie=(ae.length,4*(J*Y)),oe=new ArrayBuffer(ie),se=new Uint8ClampedArray(oe,0,ie),ye=0;ye<Y;ye++)for(var le=0;le<J;le++){var xe=4*(le+ye*J),de=0,pe=0,ce=0,ue=0,ze=0,he=0,me=0,ge=ye*ee,fe=Math.floor(le*X),be=Math.ceil((le+1)*X),Se=Math.floor(ye*ee),ke=Math.ceil((ye+1)*ee);be=Math.min(be,Q),ke=Math.min(ke,$);for(var Ee=Se;Ee<ke;Ee++)for(var Ie=Math.abs(ge-Ee)/ne,we=le*X,Ce=fe;Ce<be;Ce++){var je=Math.abs(we-Ce)/te,Ae=Math.sqrt(Ie*Ie+je*je);if(!(1<=Ae)){var Le=4*(Ce+Ee*Q);me+=(de=2*Ae*Ae*Ae-3*Ae*Ae+1)*ae[Le+3],ce+=de,255>ae[Le+3]&&(de=de*ae[Le+3]/250),ue+=de*ae[Le],ze+=de*ae[Le+1],he+=de*ae[Le+2],pe+=de}}se[xe]=ue/pe,se[xe+1]=ze/pe,se[xe+2]=he/pe,se[xe+3]=me/ce}postMessage({core:K,target:se},[se.buffer])}}.toString(),")()"],{type:"application/javascript"})),this.resample_single=function(G,K,Q,$){for(var J=G.width,Y=G.height,X=J/(K=Math.round(K)),ee=Y/(Q=Math.round(Q)),te=Math.ceil(X/2),ne=Math.ceil(ee/2),ae=G.getContext("2d"),ie=ae.getImageData(0,0,J,Y),oe=ae.createImageData(K,Q),se=ie.data,ye=oe.data,le=0;le<Q;le++)for(var xe=0;xe<K;xe++){var de=4*(xe+le*K),pe=0,ce=0,ue=0,ze=0,he=0,me=0,ge=0,fe=le*ee,be=Math.floor(xe*X),Se=Math.ceil((xe+1)*X),ke=Math.floor(le*ee),Ee=Math.ceil((le+1)*ee);Se=Math.min(Se,J),Ee=Math.min(Ee,Y);for(var Ie=ke;Ie<Ee;Ie++)for(var we=Math.abs(fe-Ie)/ne,ve=xe*X,je=be;je<Se;je++){var Ae=Math.abs(ve-je)/te,Le=Math.sqrt(we*we+Ae*Ae);if(!(1<=Le)){var _e=4*(je+Ie*J);ge+=(pe=2*Le*Le*Le-3*Le*Le+1)*se[_e+3],ue+=pe,255>se[_e+3]&&(pe=pe*se[_e+3]/250),ze+=pe*se[_e],he+=pe*se[_e+1],me+=pe*se[_e+2],ce+=pe}}ye[de]=ze/ce,ye[de+1]=he/ce,ye[de+2]=me/ce,ye[de+3]=ge/ue}!0===$?(G.width=K,G.height=Q):ae.clearRect(0,0,J,Y),ae.putImageData(oe,0,0)}}},{}],2:[function(S,N){function F($,J,Y,X,ee,te,ne){var ae=te.length,oe=[];$.forEach(he=>{var me=X.findIndex(ke=>ke>he[J]),ge=ee.findIndex(ke=>ke>he[Y]);if(!(0>me||0>ge)){var fe=K(X.slice(me),ee.slice(ge)),be=K(Q(me,X.length),Q(ge,ee.length)).map(ke=>ke[0]*ee.length+ke[1]),Se=Array(X.length*ee.length*ae).fill(0);fe.forEach((ke,Ee)=>{var Ie=ke[0]-he[J],we=ke[1]-he[Y],ve=Math.sqrt(Ie*Ie+we*we),je=Math.acos(Ie/ve),Ae=Math.round(2*(je/Math.PI)*ae);Ae==ae&&Ae--;var Le=be[Ee]*ae+Ae;Se[Le]=1;var _e=Array(ae).fill().map(function(De,Ne){return Math.abs((ke[0]-he[J])*te[Ne][0]-(ke[1]-he[Y])*te[Ne][1])}),Be=Array(ae).fill().map(function(De,Ne){return _e[Ne]<2*0.01*(ve*Math.SQRT1_2+1)?1:0});Be.forEach((De,Ne)=>{var Pe=be[Ee]*ae+Ne;Se[Pe]=De})}),oe.push(Se)}});for(var se=oe.reduce((he,me)=>he.map((ge,fe)=>ge+me[fe])),ye=se.map(he=>2<=he),le=[],xe=-1;-1!=(xe=ye.indexOf(!0,xe+1));)le.push(xe);var de=le.map(he=>[Math.floor(he/(ee.length*ae)),Math.floor(he/ae)%ee.length,he%ae]),pe=Array(X.length*ee.length*ae).fill(0),ce=K(X,ee);le.forEach(he=>{var ge=Math.floor(he/ae),fe=ce[ge];$.forEach((be,Se)=>{var ke=fe[0]-be[J],Ee=fe[1]-be[Y],Ie=Math.sqrt(ke*ke+Ee*Ee),we=ne[Se]*Math.exp(5*-Ie+1);pe[he]+=we})});var ue=Array(X.length*ee.length).fill().map((he,me)=>pe.slice(me*ae,me*ae+ae)).map(he=>he.reduce((me,ge)=>me+ge)),ze=ue.indexOf(Math.max(...ue));return ue}var V=S("./utils.js"),H=V.arange,G=V.linRange,K=V.cartesian,Q=V.range;N.exports=function($,J,Y,X){var ee=X-Y,te=0;te=0.6<ee?0.08:0.2<ee?0.05:0.02;var ne=J.quantizeID($),ae=Array(J.centroids.length).fill(0);ne.forEach(ve=>{ae[ve]++});var ie=ae.reduce((ve,Ce)=>ve+Ce);ae=ae.map(ve=>ve/ie);for(var oe=J.centroids.map(ve=>ve.map(Ce=>Ce/255)),se=H(Y,te,X),ye=H(Y,te,X),le=H(Y,te,X),xe=G(0,25,Math.PI/2),de=xe.map(ve=>[Math.cos(ve),Math.sin(ve)]),pe=F(oe,0,1,se,ye,de,ae),ce=F(oe,1,2,ye,le,de,ae),ue=F(oe,0,2,se,le,de,ae),ze=Array(se.length*ye.length*le.length).fill().map(function(ve,Ce){var je=Math.floor(Ce/(ye.length*le.length)),Ae=Math.floor(Ce/le.length)%ye.length,Le=Ce%le.length,_e=je*ye.length+Ae,Be=Ae*le.length+Le,De=je*le.length+Le;return pe[_e]*ce[Be]*ue[De]}),he=ze.indexOf(Math.max(...ze)),me=Math.floor(he/(ye.length*le.length)),ge=Math.floor(he/le.length)%ye.length,fe=he%le.length,be=[,,,].fill(0),Se=0,ke=Math.max(me-1,0);ke<Math.min(me+2,se.length);++ke)for(var Ee=Math.max(ge-1,0);Ee<Math.min(ge+2,ye.length);++Ee)for(var Ie=Math.max(fe-1,0);Ie<Math.min(fe+2,le.length);++Ie){var he=ke*ye.length*le.length+Ee*le.length+Ie,we=ze[he];Se+=we,be[0]+=se[ke]*we,be[1]+=ye[Ee]*we,be[2]+=le[Ie]*we}return be=be.map(ve=>ve/Se),be}},{"./utils.js":20}],3:[function(S,N){function H(ye,le,xe,de){var pe=new Number(document.getElementById("hazeAmountSlide").value),ce=new Number(document.getElementById("distSlide").value),ue=new Number(document.getElementById("gammaOutSlide").value),ze=Math.pow(2,ce);window.dehazeFlat=G(ye,xe,de,ze),K(window.dehazeFlat,ye.width,ye.height,le,xe,de,pe),window.dehazedCanvas=se(le),Y(window.dehazedCanvas,le,1/ue)}function G(ye,le,xe,de){var pe=ye.getContext("2d").getImageData(0,0,ye.width,ye.height).data,ce=new Uint8ClampedArray(4*le.length).fill(255);return le.forEach((ue,ze)=>{var he=ue*de;ce[4*ze]=(pe[4*ze]-255*((1-he)*xe[0]))/(he+1e-4),ce[4*ze+1]=(pe[4*ze+1]-255*((1-he)*xe[1]))/(he+1e-4),ce[4*ze+2]=(pe[4*ze+2]-255*((1-he)*xe[2]))/(he+1e-4)}),ce}function K(ye,le,xe,de,pe,ce,ue){for(var me,ze=new Uint8ClampedArray(ye.length).fill(255),he=0;he<pe.length;he++)me=Math.pow(pe[he],ue),ze[4*he]=me*ye[4*he]+255*((1-me)*ce[0]),ze[4*he+1]=me*ye[4*he+1]+255*((1-me)*ce[1]),ze[4*he+2]=me*ye[4*he+2]+255*((1-me)*ce[2]);de.width=le,de.height=xe;var ge=de.getContext("2d"),fe=ge.createImageData(le,xe);fe.data.set(ze),ge.putImageData(fe,0,0)}function $(ye,le,xe,de){var pe=ye.getContext("2d"),ce=new Uint8ClampedArray(4*le.length);le.forEach((ze,he)=>{ce[4*he]=255*ze,ce[4*he+1]=255*ze,ce[4*he+2]=255*ze,ce[4*he+3]=255}),ye.width=xe,ye.height=de;var ue=pe.createImageData(ye.width,ye.height);ue.data.set(ce),pe.putImageData(ue,0,0)}function Y(ye,le,xe){for(var de=le.getContext("2d"),pe=ye.getContext("2d").getImageData(0,0,le.width,le.height).data,ce=new Uint8ClampedArray(pe.length).fill(255),ue=0;ue<pe.length;ue+=4)ce[ue]=255*Math.pow(pe[ue]/255,xe),ce[ue+1]=255*Math.pow(pe[ue+1]/255,xe),ce[ue+2]=255*Math.pow(pe[ue+2]/255,xe);var ze=de.createImageData(le.width,le.height);ze.data.set(ce),de.putImageData(ze,0,0)}var ee=S("./min-variance-quantization"),te=S("./Hermite-resize/dist/hermite.npm.js"),ne=S("./transmittance_sci.js"),ae=S("./airlight.js"),ie=S("./utils.js"),oe=ie.makeColorArray,se=ie.cloneCanvas;N.exports.processImage=function(ye){var le=new Number(document.getElementById("gammaSlide").value),xe=document.getElementById("originalPic"),de=xe.getContext("2d");xe.width=ye.width,xe.height=ye.height,de.drawImage(ye,0,0),window.origNonResize=se(xe);var pe=1,ce=600;ye.width>ce&&(pe=ce/ye.width),ye.height*pe>ce&&(pe=ce/ye.height);var ue=new te;ue.resample(xe,Math.round(ye.width*pe),Math.round(ye.height*pe),!0,function(){window.origCanvas=se(xe),Y(window.origCanvas,xe,le)})},N.exports.sliderChange=function(ye,le){le.innerHTML=ye.value},N.exports.changeGamma=Y,N.exports.findAirLight=function(){var ye=document.getElementById("originalPic"),le=new Date;window.colorArray=oe(ye);var xe=new ee(colorArray.slice(0),1e3),de=new Date;console.log("Finished quantization in "+(de-le)/1e3+" secs."),le=new Date;var pe=new Number(document.getElementById("minAirSlide").value),ce=new Number(document.getElementById("maxAirSlide").value);window.airLight=ae(window.colorArray,xe,pe,ce),de=new Date,console.log("Finished air light in "+(de-le)/1e3+" secs.");var ue=document.getElementById("airLightPreview"),ze=window.airLight.map(me=>Math.round(255*me)),he="rgb("+ze[0]+","+ze[1]+","+ze[2]+")";ue.style.backgroundColor=he},N.exports.findAndDrawResults=function(){var ye=document.getElementById("originalPic"),le=new Date;window.transmittance=ne(ye,window.airLight);var xe=new Date;console.log("Finished transmittance map in "+(xe-le)/1e3+" secs.");var de=document.getElementById("transmittanceResultsPic");$(de,window.transmittance,ye.width,ye.height);var pe=document.getElementById("dehazeResult");H(ye,pe,window.transmittance,window.airLight)},N.exports.drawDehazed=H,N.exports.mixHaze=K,N.exports.calculateOriginal=function(){var ye=document.getElementById("gammaSlide").value;Y(window.origNonResize,window.origNonResize,ye);var le=new Date,xe=ne(window.origNonResize,window.airLight),de=new Date;console.log("Finished transmittance map in "+(de-le)/1e3+" secs.");var pe=document.createElement("canvas");H(window.origNonResize,pe,xe,window.airLight),console.log(pe.width);var ce=document.getElementById("downloadLink");pe.toBlob(function(he){ce.href=URL.createObjectURL(he)});var ue=function(){requestAnimationFrame(function(){URL.revokeObjectURL(this.href),this.href=null}),this.removeEventListener("click",ue)};ce.addEventListener("click",ue),ce.download="dehazed.png";var ze=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!1});ce.dispatchEvent(ze)}},{"./Hermite-resize/dist/hermite.npm.js":1,"./airlight.js":2,"./min-variance-quantization":7,"./transmittance_sci.js":19,"./utils.js":20}],4:[function(S,N,T){(function(O){(function(F){if("object"==typeof T&&"undefined"!=typeof N)N.exports=F();else if("function"==typeof define&&define.amd)define([],F);else{var V;V="undefined"==typeof window?"undefined"==typeof O?"undefined"==typeof self?this:self:O:window,V.PriorityQueue=F()}})(function(){return function G(K,Q,$){function J(ee,te){if(!Q[ee]){if(!K[ee]){var ne="function"==typeof S&&S;if(!te&&ne)return ne(ee,!0);if(Y)return Y(ee,!0);var ae=new Error("Cannot find module '"+ee+"'");throw ae.code="MODULE_NOT_FOUND",ae}var ie=Q[ee]={exports:{}};K[ee][0].call(ie.exports,function(oe){var se=K[ee][1][oe];return J(se?se:oe)},ie,ie.exports,G,K,Q,$)}return Q[ee].exports}for(var Y="function"==typeof S&&S,X=0;X<$.length;X++)J($[X]);return J}({1:[function(G,K){var $,J,Y,X,ee,te=function(ae,ie){function oe(){this.constructor=ae}for(var se in ie)ne.call(ie,se)&&(ae[se]=ie[se]);return oe.prototype=ie.prototype,ae.prototype=new oe,ae.__super__=ie.prototype,ae},ne={}.hasOwnProperty;$=G("./PriorityQueue/AbstractPriorityQueue"),J=G("./PriorityQueue/ArrayStrategy"),X=G("./PriorityQueue/BinaryHeapStrategy"),Y=G("./PriorityQueue/BHeapStrategy"),ee=function(ae){function ie(oe){oe||(oe={}),oe.strategy||(oe.strategy=X),oe.comparator||(oe.comparator=function(se,ye){return(se||0)-(ye||0)}),ie.__super__.constructor.call(this,oe)}return te(ie,ae),ie}($),ee.ArrayStrategy=J,ee.BinaryHeapStrategy=X,ee.BHeapStrategy=Y,K.exports=ee},{"./PriorityQueue/AbstractPriorityQueue":2,"./PriorityQueue/ArrayStrategy":3,"./PriorityQueue/BHeapStrategy":4,"./PriorityQueue/BinaryHeapStrategy":5}],2:[function(G,K){var $;K.exports=$=function(){function J(Y){var X;if(null==(null==Y?void 0:Y.strategy))throw"Must pass options.strategy, a strategy";if(null==(null==Y?void 0:Y.comparator))throw"Must pass options.comparator, a comparator";this.priv=new Y.strategy(Y),this.length=(null==Y||null==(X=Y.initialValues)?void 0:X.length)||0}return J.prototype.queue=function(Y){return this.length++,this.priv.queue(Y),void 0},J.prototype.dequeue=function(){if(!this.length)throw"Empty queue";return this.length--,this.priv.dequeue()},J.prototype.peek=function(){if(!this.length)throw"Empty queue";return this.priv.peek()},J.prototype.clear=function(){return this.length=0,this.priv.clear()},J}()},{}],3:[function(G,K){var $,J;J=function(Y,X,ee){var te,ne,ae;for(ne=0,te=Y.length;ne<te;)ae=ne+te>>>1,0<=ee(Y[ae],X)?ne=ae+1:te=ae;return ne},K.exports=$=function(){function Y(X){var ee;this.options=X,this.comparator=this.options.comparator,this.data=(null==(ee=this.options.initialValues)?void 0:ee.slice(0))||[],this.data.sort(this.comparator).reverse()}return Y.prototype.queue=function(X){var ee;return ee=J(this.data,X,this.comparator),this.data.splice(ee,0,X),void 0},Y.prototype.dequeue=function(){return this.data.pop()},Y.prototype.peek=function(){return this.data[this.data.length-1]},Y.prototype.clear=function(){return this.data.length=0,void 0},Y}()},{}],4:[function(G,K){var $;K.exports=$=function(){function J(Y){var X,ee,te,ne,ae,ie,oe,se,ye;for(this.comparator=(null==Y?void 0:Y.comparator)||function(le,xe){return le-xe},this.pageSize=(null==Y?void 0:Y.pageSize)||512,this.length=0,se=0;1<<se<this.pageSize;)se+=1;if(1<<se!==this.pageSize)throw"pageSize must be a power of two";for(this._shift=se,this._emptyMemoryPageTemplate=X=[],(ee=te=0,ie=this.pageSize);0<=ie?te<ie:te>ie;ee=0<=ie?++te:--te)X.push(null);if(this._memory=[],this._mask=this.pageSize-1,Y.initialValues)for(oe=Y.initialValues,ne=0,ae=oe.length;ne<ae;ne++)ye=oe[ne],this.queue(ye)}return J.prototype.queue=function(Y){return this.length+=1,this._write(this.length,Y),this._bubbleUp(this.length,Y),void 0},J.prototype.dequeue=function(){var Y,X;return Y=this._read(1),X=this._read(this.length),this.length-=1,0<this.length&&(this._write(1,X),this._bubbleDown(1,X)),Y},J.prototype.peek=function(){return this._read(1)},J.prototype.clear=function(){return this.length=0,this._memory.length=0,void 0},J.prototype._write=function(Y,X){var ee;for(ee=Y>>this._shift;ee>=this._memory.length;)this._memory.push(this._emptyMemoryPageTemplate.slice(0));return this._memory[ee][Y&this._mask]=X},J.prototype._read=function(Y){return this._memory[Y>>this._shift][Y&this._mask]},J.prototype._bubbleUp=function(Y,X){var ee,te,ne,ae;for(ee=this.comparator;1<Y&&(te=Y&this._mask,Y<this.pageSize||3<te?ne=Y&~this._mask|te>>1:2>te?(ne=Y-this.pageSize>>this._shift,ne+=ne&~(this._mask>>1),ne|=this.pageSize>>1):ne=Y-2,ae=this._read(ne),!(0>ee(ae,X)));)this._write(ne,X),this._write(Y,ae),Y=ne},J.prototype._bubbleDown=function(Y,X){var ee,te,ne,ae,ie;for(ie=this.comparator;Y<this.length;)if(Y>this._mask&&!(Y&this._mask-1)?ee=te=Y+2:Y&this.pageSize>>1?(ee=(Y&~this._mask)>>1,ee|=Y&this._mask>>1,ee=ee+1<<this._shift,te=ee+1):(ee=Y+(Y&this._mask),te=ee+1),ee!==te&&te<=this.length){if(ne=this._read(ee),ae=this._read(te),0>ie(ne,X)&&0>=ie(ne,ae))this._write(ee,X),this._write(Y,ne),Y=ee;else if(0>ie(ae,X))this._write(te,X),this._write(Y,ae),Y=te;else break;}else if(!(ee<=this.length))break;else if(ne=this._read(ee),0>ie(ne,X))this._write(ee,X),this._write(Y,ne),Y=ee;else break},J}()},{}],5:[function(G,K){var $;K.exports=$=function(){function J(Y){var X;this.comparator=(null==Y?void 0:Y.comparator)||function(ee,te){return ee-te},this.length=0,this.data=(null==(X=Y.initialValues)?void 0:X.slice(0))||[],this._heapify()}return J.prototype._heapify=function(){var Y,X,ee;if(0<this.data.length)for(Y=X=1,ee=this.data.length;1<=ee?X<ee:X>ee;Y=1<=ee?++X:--X)this._bubbleUp(Y)},J.prototype.queue=function(Y){return this.data.push(Y),this._bubbleUp(this.data.length-1),void 0},J.prototype.dequeue=function(){var Y,X;return X=this.data[0],Y=this.data.pop(),0<this.data.length&&(this.data[0]=Y,this._bubbleDown(0)),X},J.prototype.peek=function(){return this.data[0]},J.prototype.clear=function(){return this.length=0,this.data.length=0,void 0},J.prototype._bubbleUp=function(Y){for(var X,ee;0<Y&&(X=Y-1>>>1,0>this.comparator(this.data[Y],this.data[X]));)ee=this.data[X],this.data[X]=this.data[Y],this.data[Y]=ee,Y=X},J.prototype._bubbleDown=function(Y){var X,ee,te,ne,ae;for(X=this.data.length-1;ee=(Y<<1)+1,ne=ee+1,te=Y,ee<=X&&0>this.comparator(this.data[ee],this.data[te])&&(te=ee),ne<=X&&0>this.comparator(this.data[ne],this.data[te])&&(te=ne),te!==Y;)ae=this.data[te],this.data[te]=this.data[Y],this.data[Y]=ae,Y=te},J}()},{}]},{},[1])(1)})}).call(this,"undefined"==typeof global?"undefined"==typeof self?"undefined"==typeof window?{}:window:self:global)},{}],5:[function(S,N,T){(function(O,F){"function"==typeof define&&define.amd?define(["exports"],F):"object"==typeof T?F(T):F(O)})(this,function(O){function F(G,K,Q){this.obj=G,this.left=null,this.right=null,this.parent=Q,this.dimension=K}function H(G){this.content=[],this.scoreFunction=G}H.prototype={push:function(G){this.content.push(G),this.bubbleUp(this.content.length-1)},pop:function(){var G=this.content[0],K=this.content.pop();return 0<this.content.length&&(this.content[0]=K,this.sinkDown(0)),G},peek:function(){return this.content[0]},remove:function(G){for(var K=this.content.length,Q=0;Q<K;Q++)if(this.content[Q]==G){var $=this.content.pop();return void(Q!=K-1&&(this.content[Q]=$,this.scoreFunction($)<this.scoreFunction(G)?this.bubbleUp(Q):this.sinkDown(Q)))}throw new Error("Node not found.")},size:function(){return this.content.length},bubbleUp:function(G){for(var K=this.content[G];0<G;){var Q=Math.floor((G+1)/2)-1,$=this.content[Q];if(this.scoreFunction(K)<this.scoreFunction($))this.content[Q]=K,this.content[G]=$,G=Q;else break}},sinkDown:function(G){for(var K=this.content.length,Q=this.content[G],$=this.scoreFunction(Q);;){var J=2*(G+1),Y=J-1,X=null;if(Y<K){var ee=this.content[Y],te=this.scoreFunction(ee);te<$&&(X=Y)}if(J<K){var ne=this.content[J],ae=this.scoreFunction(ne);ae<(null==X?$:te)&&(X=J)}if(null!=X)this.content[G]=this.content[X],this.content[X]=Q,G=X;else break}}},O.kdTree=function(G,K,Q){function $(X,ee,te){var ae,ie,ne=ee%Q.length;return 0===X.length?null:1===X.length?new F(X[0],ne,te):(X.sort(function(oe,se){return oe[Q[ne]]-se[Q[ne]]}),ae=Math.floor(X.length/2),ie=new F(X[ae],ne,te),ie.left=$(X.slice(0,ae),ee+1,ie),ie.right=$(X.slice(ae+1),ee+1,ie),ie)}var Y=this;Array.isArray(G)?this.root=$(G,0,null):function(X){function ee(te){te.left&&(te.left.parent=te,ee(te.left)),te.right&&(te.right.parent=te,ee(te.right))}Y.root=X,ee(Y.root)}(G,K,Q),this.toJSON=function(X){X||(X=this.root);var ee=new F(X.obj,X.dimension,null);return X.left&&(ee.left=Y.toJSON(X.left)),X.right&&(ee.right=Y.toJSON(X.right)),ee},this.insert=function(X){function ee(ie,oe){if(null===ie)return oe;var se=Q[ie.dimension];return X[se]<ie.obj[se]?ee(ie.left,ie):ee(ie.right,ie)}var ne,ae,te=ee(this.root,null);return null===te?void(this.root=new F(X,0,null)):void(ne=new F(X,(te.dimension+1)%Q.length,te),ae=Q[te.dimension],X[ae]<te.obj[ae]?te.left=ne:te.right=ne)},this.remove=function(X){function ee(ae){if(null===ae)return null;if(ae.obj===X)return ae;var ie=Q[ae.dimension];return X[ie]<ae.obj[ie]?ee(ae.left,ae):ee(ae.right,ae)}function te(ae){function ie(le,xe){var de,pe,ce,ue,ze;return null===le?null:(de=Q[xe],le.dimension===xe)?null===le.left?le:ie(le.left,xe):(pe=le.obj[de],ce=ie(le.left,xe),ue=ie(le.right,xe),ze=le,null!==ce&&ce.obj[de]<pe&&(ze=ce),null!==ue&&ue.obj[de]<ze.obj[de]&&(ze=ue),ze)}var oe,se,ye;return null===ae.left&&null===ae.right?null===ae.parent?void(Y.root=null):(ye=Q[ae.parent.dimension],void(ae.obj[ye]<ae.parent.obj[ye]?ae.parent.left=null:ae.parent.right=null)):void(null===ae.right?(oe=ie(ae.left,ae.dimension),se=oe.obj,te(oe),ae.right=ae.left,ae.left=null,ae.obj=se):(oe=ie(ae.right,ae.dimension),se=oe.obj,te(oe),ae.obj=se))}var ne=ee(Y.root);null===ne||te(ne)},this.nearest=function(X,ee,te){function ne(se){function ye(he,me){oe.push([he,me]),oe.size()>ee&&oe.pop()}var le,ce,ue,ze,xe=Q[se.dimension],de=K(X,se.obj),pe={};for(ze=0;ze<Q.length;ze+=1)pe[Q[ze]]=ze===se.dimension?X[Q[ze]]:se.obj[Q[ze]];return ce=K(pe,se.obj),null===se.right&&null===se.left?void((oe.size()<ee||de<oe.peek()[1])&&ye(se,de)):void(le=null===se.right?se.left:null===se.left?se.right:X[xe]<se.obj[xe]?se.left:se.right,ne(le),(oe.size()<ee||de<oe.peek()[1])&&ye(se,de),(oe.size()<ee||Math.abs(ce)<oe.peek()[1])&&(ue=le===se.left?se.right:se.left,null!==ue&&ne(ue)))}var ae,ie,oe;if(oe=new H(function(se){return-se[1]}),te)for(ae=0;ae<ee;ae+=1)oe.push([null,te]);for(Y.root&&ne(Y.root),ie=[],ae=0;ae<Math.min(ee,oe.content.length);ae+=1)oe.content[ae][0]&&ie.push([oe.content[ae][0].obj,oe.content[ae][1]]);return ie},this.balanceFactor=function(){function X(te){return null===te?0:Math.max(X(te.left),X(te.right))+1}function ee(te){return null===te?0:ee(te.left)+ee(te.right)+1}return X(Y.root)/(Math.log(ee(Y.root))/Math.log(2))}},O.BinaryHeap=H})},{}],6:[function(S){var O=S("./gui_utils.js"),F=O.processImage,V=O.sliderChange,H=O.changeGamma,G=O.findAirLight,K=O.findAndDrawResults,Q=O.drawDehazed,$=O.mixHaze,J=O.calculateOriginal;window.onload=function(){var Y=document.getElementById("fileInput"),X=document.getElementById("fileDisplayArea");Y.addEventListener("change",function(){var me=Y.files[0],ge=/image.*/;if(me.type.match(ge)){var fe=new FileReader;fe.readAsDataURL(me),fe.onload=function(){X.innerHTML="";var Se=new Image;Se.src=fe.result,Se.onload=function(){F(Se)}}}else X.innerHTML="File not supported!"});var ee=document.getElementById("gammaSlide"),te=document.getElementById("gammaVal");ee.addEventListener("input",function(){V(this,te);var me=document.getElementById("originalPic");H(window.origCanvas,me,new Number(this.value))}),te.innerHTML=ee.value;var ne=document.getElementById("minAirSlide"),ae=document.getElementById("minAirVal"),ie=document.getElementById("maxAirSlide"),oe=document.getElementById("maxAirVal");ne.addEventListener("input",function(){ie.value-0.05<this.value&&(this.value=ie.value-0.05),V(this,ae)}),ae.innerHTML=ne.value,ie.addEventListener("input",function(){ne.value>this.value-0.05&&(this.value=new Number(ne.value)+0.05),V(this,oe)}),oe.innerHTML=ie.value;var se=document.getElementById("airLightButton");se.addEventListener("click",function(){G()});var ye=document.getElementById("transmittanceButton");ye.addEventListener("click",function(){K()});var le=document.getElementById("distSlide"),xe=document.getElementById("distVal"),de=document.getElementById("hazeAmountSlide"),pe=document.getElementById("hazeAmountVal"),ce=document.getElementById("gammaOutSlide"),ue=document.getElementById("gammaOutVal");le.addEventListener("input",function(){oninput=V(this,xe);var me=document.getElementById("originalPic"),ge=document.getElementById("dehazeResult");Q(me,ge,window.transmittance,window.airLight)}),xe.innerHTML=le.value,de.addEventListener("input",function(){V(this,pe);var me=window.origCanvas;$(window.dehazeFlat,me.width,me.height,window.dehazedCanvas,window.transmittance,window.airLight,new Number(this.value));var ge=new Number(document.getElementById("gammaOutSlide").value);me=document.getElementById("dehazeResult"),H(window.dehazedCanvas,me,1/ge)}),pe.innerHTML=de.value,ce.addEventListener("input",function(){V(this,ue);var me=document.getElementById("dehazeResult");H(window.dehazedCanvas,me,1/new Number(this.value))}),ue.innerHTML=ce.value;var ze=document.getElementById("originalButton");ze.addEventListener("click",function(){J()})}},{"./gui_utils.js":3}],7:[function(S,N){function O(H,G,K,Q,$,J){this.minVal=Q.slice(0),this.maxVal=$.slice(0),this.startIdx=G,this.endIdx=K,this.splitChannel=-1,this.splitThreshold=-1,this.splitVariance=-1,this.left=-1,this.right=-1,this.parent=J,this.isLeaf=!0,this.index=-1;for(var X,Y=0;3>Y;Y++){X=Array(256).fill(0),H.slice(this.startIdx,this.endIdx).forEach(xe=>{X[xe[Y]]++});for(var ee=0,te=0,ne=X.map((xe,de)=>xe*de).reduce((xe,de)=>xe+de,0),ae=X.reduce((xe,de)=>xe+de,0),ie=0;256>ie;++ie){te+=X[ie];var oe=ae-te;if(0!=te&&0!=oe){ee+=ie*X[ie];var se=(ne-ee)/oe,ye=ee/te-se,le=te*oe*ye*ye;le>=this.splitVariance&&(this.splitChannel=Y,this.splitThreshold=ie,this.splitVariance=le)}}}}function F(H,G){var K=new V({comparator:function(pe,ce){return ce.splitVariance-pe.splitVariance}});K.queue(new O(H,0,H.length,[0,0,0],[255,255,255],-1)),this.kdtree=Array(2*G-1);for(var J,Q=0,$=0;0<K.length&&$+K.length<G;){if(J=K.dequeue(),0<=J.parent){var Y=this.kdtree[J.parent];Y.minVal.every((pe,ce)=>pe===J.minVal[ce])?Y.left=Q:Y.right=Q}if(this.kdtree[Q]=J,-1==J.splitChannel){Q++,$++;continue}var X=J.splitChannel,ee=J.splitThreshold,te=H.slice(J.startIdx,J.endIdx),ne=te.filter(pe=>pe[X]<ee),ae=te.filter(pe=>pe[X]>=ee),ie=J.startIdx+ne.length;if(ie==J.startIdx||ie==J.endIdx){Q++,$++;continue}var oe=ne.concat(ae);oe.forEach((pe,ce)=>{H[J.startIdx+ce]=pe});var se=J.maxVal.slice(0);se[X]=ee,K.queue(new O(H,J.startIdx,ie,J.minVal,se,Q)),se=J.minVal.slice(0),se[X]=ee+1,K.queue(new O(H,ie,J.endIdx,se,J.maxVal,Q)),this.kdtree[Q].isLeaf=!1,Q++}for(;0<K.length;){var J=K.dequeue();if(0<=J.parent){var Y=this.kdtree[J.parent];Y.minVal.every((pe,ce)=>pe===J.minVal[ce])?Y.left=Q:Y.right=Q}this.kdtree[Q]=J,Q++}var ye=0;this.centroids=[];for(var le=0;le<Q;++le)if(this.kdtree[le].isLeaf){this.kdtree[le].index=ye,ye++;var xe=this.kdtree[le],te=H.slice(xe.startIdx,xe.endIdx),de=xe.endIdx-xe.startIdx;xe.centroid=te.reduce((pe,ce)=>[pe[0]+ce[0],pe[1]+ce[1],pe[2]+ce[2]]).map(pe=>Math.round(pe/de)),this.centroids.push(xe.centroid)}}var V=S("./js-priority-queue/priority-queue.js");F.prototype.lookupColor=function(H){for(var K,G=this.kdtree[0];!G.isLeaf;)K=G.splitChannel,G=H[K]<G.splitThreshold?this.kdtree[G.left]:this.kdtree[G.right];return G.centroid.slice(0)},F.prototype.lookupID=function(H){for(var K,G=this.kdtree[0];!G.isLeaf;)K=G.splitChannel,G=H[K]<G.splitThreshold?this.kdtree[G.left]:this.kdtree[G.right];return G.index},F.prototype.quantizeImage=function(H,G){var K=makeColorArray(H),Q=K.map(X=>this.lookupColor(X).concat(255)),$=new Uint8ClampedArray([].concat.apply([],Q));G.width=H.width,G.height=H.height;var J=G.getContext("2d"),Y=J.createImageData(H.width,H.height);Y.data.set($),J.putImageData(Y,0,0)},F.prototype.quantizeID=function(H){return H.map(G=>this.lookupID(G))},N.exports=F},{"./js-priority-queue/priority-queue.js":4}],8:[function(S,N){"use strict";function O(){this.argTypes=[],this.shimArgs=[],this.arrayArgs=[],this.arrayBlockIndices=[],this.scalarArgs=[],this.offsetArgs=[],this.offsetArgIndex=[],this.indexArgs=[],this.shapeArgs=[],this.funcName="",this.pre=null,this.body=null,this.post=null,this.debug=!1}var V=S("./lib/thunk.js");N.exports=function(H){var G=new O;G.pre=H.pre,G.body=H.body,G.post=H.post;var K=H.args.slice(0);G.argTypes=K;for(var $,Q=0;Q<K.length;++Q)if($=K[Q],"array"===$||"object"==typeof $&&$.blockIndices){if(G.argTypes[Q]="array",G.arrayArgs.push(Q),G.arrayBlockIndices.push($.blockIndices?$.blockIndices:0),G.shimArgs.push("array"+Q),Q<G.pre.args.length&&0<G.pre.args[Q].count)throw new Error("cwise: pre() block may not reference array args");if(Q<G.post.args.length&&0<G.post.args[Q].count)throw new Error("cwise: post() block may not reference array args")}else if("scalar"===$)G.scalarArgs.push(Q),G.shimArgs.push("scalar"+Q);else if("index"===$){if(G.indexArgs.push(Q),Q<G.pre.args.length&&0<G.pre.args[Q].count)throw new Error("cwise: pre() block may not reference array index");if(Q<G.body.args.length&&G.body.args[Q].lvalue)throw new Error("cwise: body() block may not write to array index");if(Q<G.post.args.length&&0<G.post.args[Q].count)throw new Error("cwise: post() block may not reference array index")}else if("shape"===$){if(G.shapeArgs.push(Q),Q<G.pre.args.length&&G.pre.args[Q].lvalue)throw new Error("cwise: pre() block may not write to array shape");if(Q<G.body.args.length&&G.body.args[Q].lvalue)throw new Error("cwise: body() block may not write to array shape");if(Q<G.post.args.length&&G.post.args[Q].lvalue)throw new Error("cwise: post() block may not write to array shape")}else if("object"==typeof $&&$.offset)G.argTypes[Q]="offset",G.offsetArgs.push({array:$.array,offset:$.offset}),G.offsetArgIndex.push(Q);else throw new Error("cwise: Unknown argument type "+K[Q]);if(0>=G.arrayArgs.length)throw new Error("cwise: No array arguments specified");if(G.pre.args.length>K.length)throw new Error("cwise: Too many arguments in pre() block");if(G.body.args.length>K.length)throw new Error("cwise: Too many arguments in body() block");if(G.post.args.length>K.length)throw new Error("cwise: Too many arguments in post() block");return G.debug=!!H.printCode||!!H.debug,G.funcName=H.funcName||"cwise",G.blockSize=H.blockSize||64,V(G)}},{"./lib/thunk.js":10}],9:[function(S,N){"use strict";function O($,J,Y){var se,ye,X=$.length,ee=J.arrayArgs.length,te=0<J.indexArgs.length,ne=[],ae=[],ie=0,oe=0;for(se=0;se<X;++se)ae.push(["i",se,"=0"].join(""));for(ye=0;ye<ee;++ye)for(se=0;se<X;++se)oe=ie,ie=$[se],0===se?ae.push(["d",ye,"s",se,"=t",ye,"p",ie].join("")):ae.push(["d",ye,"s",se,"=(t",ye,"p",ie,"-s",oe,"*t",ye,"p",oe,")"].join(""));for(0<ae.length&&ne.push("var "+ae.join(",")),se=X-1;0<=se;--se)ie=$[se],ne.push(["for(i",se,"=0;i",se,"<s",ie,";++i",se,"){"].join(""));for(ne.push(Y),se=0;se<X;++se){for(oe=ie,ie=$[se],ye=0;ye<ee;++ye)ne.push(["p",ye,"+=d",ye,"s",se].join(""));te&&(0<se&&ne.push(["index[",oe,"]-=s",oe].join("")),ne.push(["++index[",ie,"]"].join(""))),ne.push("}")}return ne.join("\n")}function F($,J,Y,X){for(var ee=J.length,te=Y.arrayArgs.length,ne=Y.blockSize,ae=0<Y.indexArgs.length,ie=[],oe=0;oe<te;++oe)ie.push(["var offset",oe,"=p",oe].join(""));for(var oe=$;oe<ee;++oe)ie.push(["for(var j"+oe+"=SS[",J[oe],"]|0;j",oe,">0;){"].join("")),ie.push(["if(j",oe,"<",ne,"){"].join("")),ie.push(["s",J[oe],"=j",oe].join("")),ie.push(["j",oe,"=0"].join("")),ie.push(["}else{s",J[oe],"=",ne].join("")),ie.push(["j",oe,"-=",ne,"}"].join("")),ae&&ie.push(["index[",J[oe],"]=j",oe].join(""));for(var se,oe=0;oe<te;++oe){se=["offset"+oe];for(var ye=$;ye<ee;++ye)se.push(["j",ye,"*t",oe,"p",J[ye]].join(""));ie.push(["p",oe,"=(",se.join("+"),")"].join(""))}ie.push(O(J,Y,X));for(var oe=$;oe<ee;++oe)ie.push("}");return ie.join("\n")}function V($){for(var J=0,Y=$[0].length;J<Y;){for(var X=1;X<$.length;++X)if($[X][J]!==$[0][J])return J;++J}return J}function H($,J,Y){for(var ae,X=$.body,ee=[],te=[],ne=0;ne<$.args.length;++ne)if(ae=$.args[ne],!(0>=ae.count)){var ie=new RegExp(ae.name,"g"),oe="",se=J.arrayArgs.indexOf(ne);switch(J.argTypes[ne]){case"offset":var ye=J.offsetArgIndex.indexOf(ne),le=J.offsetArgs[ye];se=le.array,oe="+q"+ye;case"array":oe="p"+se+oe;var xe="l"+ne,de="a"+se;if(0===J.arrayBlockIndices[se])1===ae.count?"generic"===Y[se]?ae.lvalue?(ee.push(["var ",xe,"=",de,".get(",oe,")"].join("")),X=X.replace(ie,xe),te.push([de,".set(",oe,",",xe,")"].join(""))):X=X.replace(ie,[de,".get(",oe,")"].join("")):X=X.replace(ie,[de,"[",oe,"]"].join("")):"generic"===Y[se]?(ee.push(["var ",xe,"=",de,".get(",oe,")"].join("")),X=X.replace(ie,xe),ae.lvalue&&te.push([de,".set(",oe,",",xe,")"].join(""))):(ee.push(["var ",xe,"=",de,"[",oe,"]"].join("")),X=X.replace(ie,xe),ae.lvalue&&te.push([de,"[",oe,"]=",xe].join("")));else{for(var pe=[ae.name],ce=[oe],ue=0;ue<Math.abs(J.arrayBlockIndices[se]);ue++)pe.push("\\s*\\[([^\\]]+)\\]"),ce.push("$"+(ue+1)+"*t"+se+"b"+ue);if(ie=new RegExp(pe.join(""),"g"),oe=ce.join("+"),"generic"===Y[se])throw new Error("cwise: Generic arrays not supported in combination with blocks!");else X=X.replace(ie,[de,"[",oe,"]"].join(""))}break;case"scalar":X=X.replace(ie,"Y"+J.scalarArgs.indexOf(ne));break;case"index":X=X.replace(ie,"index");break;case"shape":X=X.replace(ie,"shape");}}return[ee.join("\n"),X,te.join("\n")].join("\n").trim()}function G($){for(var J=Array($.length),Y=!0,X=0;X<$.length;++X){var ee=$[X],te=ee.match(/\d+/);te=te?te[0]:"",J[X]=0===ee.charAt(0)?"u"+ee.charAt(1)+te:ee.charAt(0)+te,0<X&&(Y=Y&&J[X]===J[X-1])}return Y?J[0]:J.join("")}var Q=S("uniq");N.exports=function($,J){for(var Y=0|J[1].length-Math.abs($.arrayBlockIndices[0]),X=Array($.arrayArgs.length),ee=Array($.arrayArgs.length),te=0;te<$.arrayArgs.length;++te)ee[te]=J[2*te],X[te]=J[2*te+1];for(var ne=[],ae=[],ie=[],oe=[],se=[],te=0;te<$.arrayArgs.length;++te){0>$.arrayBlockIndices[te]?(ie.push(0),oe.push(Y),ne.push(Y),ae.push(Y+$.arrayBlockIndices[te])):(ie.push($.arrayBlockIndices[te]),oe.push($.arrayBlockIndices[te]+Y),ne.push(0),ae.push($.arrayBlockIndices[te]));for(var ye=[],le=0;le<X[te].length;le++)ie[te]<=X[te][le]&&X[te][le]<oe[te]&&ye.push(X[te][le]-ie[te]);se.push(ye)}for(var xe=["SS"],de=["'use strict'"],pe=[],le=0;le<Y;++le)pe.push(["s",le,"=SS[",le,"]"].join(""));for(var te=0;te<$.arrayArgs.length;++te){xe.push("a"+te),xe.push("t"+te),xe.push("p"+te);for(var le=0;le<Y;++le)pe.push(["t",te,"p",le,"=t",te,"[",ie[te]+le,"]"].join(""));for(var le=0;le<Math.abs($.arrayBlockIndices[te]);++le)pe.push(["t",te,"b",le,"=t",te,"[",ne[te]+le,"]"].join(""))}for(var te=0;te<$.scalarArgs.length;++te)xe.push("Y"+te);if(0<$.shapeArgs.length&&pe.push("shape=SS.slice(0)"),0<$.indexArgs.length){for(var ce=Array(Y),te=0;te<Y;++te)ce[te]="0";pe.push(["index=[",ce.join(","),"]"].join(""))}for(var te=0;te<$.offsetArgs.length;++te){for(var ue=$.offsetArgs[te],ze=[],le=0;le<ue.offset.length;++le)if(0===ue.offset[le])continue;else 1===ue.offset[le]?ze.push(["t",ue.array,"p",le].join("")):ze.push([ue.offset[le],"*t",ue.array,"p",le].join(""));0===ze.length?pe.push("q"+te+"=0"):pe.push(["q",te,"=",ze.join("+")].join(""))}var he=Q([].concat($.pre.thisVars).concat($.body.thisVars).concat($.post.thisVars));pe=pe.concat(he),0<pe.length&&de.push("var "+pe.join(","));for(var te=0;te<$.arrayArgs.length;++te)de.push("p"+te+"|=0");3<$.pre.body.length&&de.push(H($.pre,$,ee));var me=H($.body,$,ee),ge=V(se);ge<Y?de.push(F(ge,se[0],$,me)):de.push(O(se[0],$,me)),3<$.post.body.length&&de.push(H($.post,$,ee)),$.debug&&console.log("-----Generated cwise routine for ",J,":\n"+de.join("\n")+"\n----------");var fe=[$.funcName||"unnamed","_cwise_loop_",X[0].join("s"),"m",ge,G(ee)].join(""),be=new Function(["function ",fe,"(",xe.join(","),"){",de.join("\n"),"} return ",fe].join(""));return be()}},{uniq:17}],10:[function(S,N){"use strict";var F=S("./compile.js");N.exports=function(V){var H=["'use strict'","var CACHED={}"],G=[],K=V.funcName+"_cwise_thunk";H.push(["return function ",K,"(",V.shimArgs.join(","),"){"].join(""));for(var te,Q=[],$=[],J=[["array",V.arrayArgs[0],".shape.slice(",Math.max(0,V.arrayBlockIndices[0]),0>V.arrayBlockIndices[0]?","+V.arrayBlockIndices[0]+")":")"].join("")],Y=[],X=[],ee=0;ee<V.arrayArgs.length;++ee)te=V.arrayArgs[ee],G.push(["t",te,"=array",te,".dtype,","r",te,"=array",te,".order"].join("")),Q.push("t"+te),Q.push("r"+te),$.push("t"+te),$.push("r"+te+".join()"),J.push("array"+te+".data"),J.push("array"+te+".stride"),J.push("array"+te+".offset|0"),0<ee&&(Y.push("array"+V.arrayArgs[0]+".shape.length===array"+te+".shape.length+"+(Math.abs(V.arrayBlockIndices[0])-Math.abs(V.arrayBlockIndices[ee]))),X.push("array"+V.arrayArgs[0]+".shape[shapeIndex+"+Math.max(0,V.arrayBlockIndices[0])+"]===array"+te+".shape[shapeIndex+"+Math.max(0,V.arrayBlockIndices[ee])+"]"));1<V.arrayArgs.length&&(H.push("if (!("+Y.join(" && ")+")) throw new Error('cwise: Arrays do not all have the same dimensionality!')"),H.push("for(var shapeIndex=array"+V.arrayArgs[0]+".shape.length-"+Math.abs(V.arrayBlockIndices[0])+"; shapeIndex-->0;) {"),H.push("if (!("+X.join(" && ")+")) throw new Error('cwise: Arrays do not all have the same shape!')"),H.push("}"));for(var ee=0;ee<V.scalarArgs.length;++ee)J.push("scalar"+V.scalarArgs[ee]);G.push(["type=[",$.join(","),"].join()"].join("")),G.push("proc=CACHED[type]"),H.push("var "+G.join(",")),H.push(["if(!proc){","CACHED[type]=proc=compile([",Q.join(","),"])}","return proc(",J.join(","),")}"].join("")),V.debug&&console.log("-----Generated thunk:\n"+H.join("\n")+"\n----------");var ne=new Function("compile",H.join("\n"));return ne(F.bind(void 0,V))}},{"./compile.js":9}],11:[function(S,N){(function(O){"use strict";function F(Y,X,ee){this.name=Y,this.lvalue=X,this.rvalue=ee,this.count=0}function V(Y,X,ee,te){this.body=Y,this.args=X,this.thisVars=ee,this.localVars=te}function H(Y){if("eval"===Y)throw new Error("cwise-parser: eval() not allowed");return"undefined"==typeof window?"undefined"==typeof O?"undefined"!=typeof self&&Y in self:Y in O:Y in window}function G(Y){for(var X=Y.body[0].expression.callee.params,ee=Array(X.length),te=0;te<X.length;++te)ee[te]=X[te].name;return ee}var Q=S("esprima"),$=S("uniq"),J=0;N.exports=function(Y){function X(be){var Se=ye+be.replace(/\_/g,"__");return ue.push(Se),Se}function ee(be){var Se="this_"+be.replace(/\_/g,"__");return ze.push(Se),Se}function te(be,Se){for(var ke=be.range[0],Ee=be.range[1],Ie=ke+1;Ie<Ee;++Ie)pe[Ie]="";pe[ke]=Se}function ne(be){return"'"+be.replace(/\_/g,"\\_").replace(/\'/g,"'")+"'"}function ie(be){return"AssignmentExpression"===be.parent.type&&be.parent.left===be?"="===be.parent.operator?me:me|ge:"UpdateExpression"===be.parent.type?me|ge:ge}for(var oe=["(",Y,")()"].join(""),se=Q.parse(oe,{range:!0}),ye="_inline_"+J++ +"_",le=G(se),xe=Array(le.length),de=0;de<le.length;++de)xe[de]=new F([ye,"arg",de,"_"].join(""),!1,!1);for(var pe=Array(oe.length),de=0,ce=oe.length;de<ce;++de)pe[de]=oe.charAt(de);var ue=[],ze=[],me=1,ge=2;(function be(Se,ke){if(Se.parent=ke,"MemberExpression"===Se.type)Se.computed?(be(Se.object,Se),be(Se.property,Se)):"ThisExpression"===Se.object.type?te(Se,ee(Se.property.name)):be(Se.object,Se);else if("ThisExpression"===Se.type)throw new Error("cwise-parser: Computed this is not allowed");else if("Identifier"===Se.type){var Ee=Se.name,Ie=le.indexOf(Ee);if(0<=Ie){var we=xe[Ie],ve=ie(Se);ve&me&&(we.lvalue=!0),ve&ge&&(we.rvalue=!0),++we.count,te(Se,we.name)}else if(H(Ee));else te(Se,X(Ee))}else if("Literal"===Se.type)"string"==typeof Se.value&&te(Se,ne(Se.value));else if("WithStatement"===Se.type)throw new Error("cwise-parser: with() statements not allowed");else for(var Ce=Object.keys(Se),je=0,Ae=Ce.length;je<Ae;++je)if("parent"!==Ce[je]){var Le=Se[Ce[je]];if(Le)if(Le instanceof Array)for(var _e=0;_e<Le.length;++_e)Le[_e]&&"string"==typeof Le[_e].type&&be(Le[_e],Se);else"string"==typeof Le.type&&be(Le,Se)}})(se.body[0].expression.callee.body,void 0),$(ue),$(ze);var fe=new V(function(be){return pe.slice(be.range[0],be.range[1]).join("")}(se.body[0].expression.callee.body),xe,ze,ue);return fe}}).call(this,"undefined"==typeof global?"undefined"==typeof self?"undefined"==typeof window?{}:window:self:global)},{esprima:13,uniq:17}],12:[function(S,N){"use strict";var F=S("cwise-parser"),V=S("cwise-compiler"),H=["args","body"],G=["pre","post","printCode","funcName","blockSize"];N.exports=function(K){for(var Q in K)0>H.indexOf(Q)&&0>G.indexOf(Q)&&console.warn("cwise: Unknown argument '"+Q+"' passed to expression compiler");for(var $=0;$<H.length;++$)if(!K[H[$]])throw new Error("cwise: Missing argument: "+H[$]);return V({args:K.args,pre:F(K.pre||function(){}),body:F(K.body),post:F(K.post||function(){}),debug:!!K.printCode,funcName:K.funcName||K.body.name||"cwise",blockSize:K.blockSize||64})}},{"cwise-compiler":8,"cwise-parser":11}],13:[function(S,N,T){(function(O,F){"use strict";"function"==typeof define&&define.amd?define(["exports"],F):"undefined"==typeof T?F(O.esprima={}):F(T)})(this,function(O){"use strict";function F(ln,dn){if(!ln)throw new Error("ASSERT: "+dn)}function V(ln){return 48<=ln&&57>=ln}function H(ln){return 0<="0123456789abcdefABCDEF".indexOf(ln)}function G(ln){return 0<="01234567".indexOf(ln)}function K(ln){return 32===ln||9===ln||11===ln||12===ln||160===ln||5760<=ln&&0<=[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(ln)}function Q(ln){return 10===ln||13===ln||8232===ln||8233===ln}function $(ln){return 36===ln||95===ln||65<=ln&&90>=ln||97<=ln&&122>=ln||92===ln||128<=ln&&Jt.NonAsciiIdentifierStart.test(String.fromCharCode(ln))}function J(ln){return 36===ln||95===ln||65<=ln&&90>=ln||97<=ln&&122>=ln||48<=ln&&57>=ln||92===ln||128<=ln&&Jt.NonAsciiIdentifierPart.test(String.fromCharCode(ln))}function Y(ln){return"class"===ln||"enum"===ln||"export"===ln||"extends"===ln||"import"===ln||"super"===ln}function X(ln){return"implements"===ln||"interface"===ln||"package"===ln||"private"===ln||"protected"===ln||"public"===ln||"static"===ln||"yield"===ln||"let"===ln}function ee(ln){return"eval"===ln||"arguments"===ln}function te(ln){if(Zt&&X(ln))return!0;switch(ln.length){case 2:return"if"===ln||"in"===ln||"do"===ln;case 3:return"var"===ln||"for"===ln||"new"===ln||"try"===ln||"let"===ln;case 4:return"this"===ln||"else"===ln||"case"===ln||"void"===ln||"with"===ln||"enum"===ln;case 5:return"while"===ln||"break"===ln||"catch"===ln||"throw"===ln||"const"===ln||"yield"===ln||"class"===ln||"super"===ln;case 6:return"return"===ln||"typeof"===ln||"delete"===ln||"switch"===ln||"export"===ln||"import"===ln;case 7:return"default"===ln||"finally"===ln||"extends"===ln;case 8:return"function"===ln||"continue"===ln||"debugger"===ln;case 10:return"instanceof"===ln;default:return!1;}}function ne(ln,dn,pn,cn,un){var zn;F("number"==typeof pn,"Comment must have valid position");sn.lastCommentStart>=pn||(sn.lastCommentStart=pn,zn={type:ln,value:dn},yn.range&&(zn.range=[pn,cn]),yn.loc&&(zn.loc=un),yn.comments.push(zn),yn.attachComment&&(yn.leadingComments.push(zn),yn.trailingComments.push(zn)))}function ae(ln){var dn,pn,cn,un;for(dn=en-ln,pn={start:{line:tn,column:en-nn-ln}};en<an;)if(cn=Xt.charCodeAt(en),++en,Q(cn))return yn.comments&&(un=Xt.slice(dn+ln,en-1),pn.end={line:tn,column:en-nn-1},ne("Line",un,dn,en-1,pn)),13===cn&&10===Xt.charCodeAt(en)&&++en,++tn,void(nn=en);yn.comments&&(un=Xt.slice(dn+ln,en),pn.end={line:tn,column:en-nn},ne("Line",un,dn,en,pn))}function ie(){var ln,dn,pn,cn;for(yn.comments&&(ln=en-2,dn={start:{line:tn,column:en-nn-2}});en<an;)if(pn=Xt.charCodeAt(en),Q(pn))13===pn&&10===Xt.charCodeAt(en+1)&&++en,++tn,++en,nn=en,en>=an&&_e({},$t.UnexpectedToken,"ILLEGAL");else if(42===pn){if(47===Xt.charCodeAt(en+1))return++en,++en,void(yn.comments&&(cn=Xt.slice(ln+2,en-2),dn.end={line:tn,column:en-nn},ne("Block",cn,ln,en,dn)));++en}else++en;_e({},$t.UnexpectedToken,"ILLEGAL")}function oe(){var ln,dn;for(dn=0===en;en<an;)if(ln=Xt.charCodeAt(en),K(ln))++en;else if(Q(ln))++en,13===ln&&10===Xt.charCodeAt(en)&&++en,++tn,nn=en,dn=!0;else if(47===ln){if(ln=Xt.charCodeAt(en+1),47===ln)++en,++en,ae(2),dn=!0;else if(42===ln)++en,++en,ie();else break;}else if(dn&&45===ln){if(45===Xt.charCodeAt(en+1)&&62===Xt.charCodeAt(en+2))en+=3,ae(3);else break;}else if(60!==ln)break;else if("!--"===Xt.slice(en+1,en+4))++en,++en,++en,++en,ae(4);else break}function se(ln){var dn,pn,cn,un=0;for(pn="u"===ln?4:2,dn=0;dn<pn;++dn)if(en<an&&H(Xt[en]))cn=Xt[en++],un=16*un+"0123456789abcdef".indexOf(cn.toLowerCase());else return"";return String.fromCharCode(un)}function ye(){var ln,dn;for(ln=Xt.charCodeAt(en++),dn=String.fromCharCode(ln),92===ln&&(117!==Xt.charCodeAt(en)&&_e({},$t.UnexpectedToken,"ILLEGAL"),++en,ln=se("u"),(!ln||"\\"===ln||!$(ln.charCodeAt(0)))&&_e({},$t.UnexpectedToken,"ILLEGAL"),dn=ln);en<an&&(ln=Xt.charCodeAt(en),!!J(ln));)++en,dn+=String.fromCharCode(ln),92===ln&&(dn=dn.substr(0,dn.length-1),117!==Xt.charCodeAt(en)&&_e({},$t.UnexpectedToken,"ILLEGAL"),++en,ln=se("u"),(!ln||"\\"===ln||!J(ln.charCodeAt(0)))&&_e({},$t.UnexpectedToken,"ILLEGAL"),dn+=ln);return dn}function le(){var ln,dn;for(ln=en++;en<an;){if(dn=Xt.charCodeAt(en),92===dn)return en=ln,ye();if(J(dn))++en;else break}return Xt.slice(ln,en)}function xe(){var ln,dn,pn;return ln=en,dn=92===Xt.charCodeAt(en)?ye():le(),pn=1===dn.length?Ht.Identifier:te(dn)?Ht.Keyword:"null"===dn?Ht.NullLiteral:"true"===dn||"false"===dn?Ht.BooleanLiteral:Ht.Identifier,{type:pn,value:dn,lineNumber:tn,lineStart:nn,start:ln,end:en}}function de(){var pn,un,zn,hn,ln=en,dn=Xt.charCodeAt(en),cn=Xt[en];switch(dn){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++en,yn.tokenize&&(40===dn?yn.openParenToken=yn.tokens.length:123===dn&&(yn.openCurlyToken=yn.tokens.length)),{type:Ht.Punctuator,value:String.fromCharCode(dn),lineNumber:tn,lineStart:nn,start:ln,end:en};default:if(pn=Xt.charCodeAt(en+1),61===pn)switch(dn){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return en+=2,{type:Ht.Punctuator,value:String.fromCharCode(dn)+String.fromCharCode(pn),lineNumber:tn,lineStart:nn,start:ln,end:en};case 33:case 61:return en+=2,61===Xt.charCodeAt(en)&&++en,{type:Ht.Punctuator,value:Xt.slice(ln,en),lineNumber:tn,lineStart:nn,start:ln,end:en};}}return(hn=Xt.substr(en,4),">>>="===hn)?(en+=4,{type:Ht.Punctuator,value:hn,lineNumber:tn,lineStart:nn,start:ln,end:en}):(zn=hn.substr(0,3),">>>"===zn||"<<="===zn||">>="===zn)?(en+=3,{type:Ht.Punctuator,value:zn,lineNumber:tn,lineStart:nn,start:ln,end:en}):(un=zn.substr(0,2),cn===un[1]&&0<="+-<>&|".indexOf(cn)||"=>"===un?(en+=2,{type:Ht.Punctuator,value:un,lineNumber:tn,lineStart:nn,start:ln,end:en}):0<="<>=!+-*%&|^/".indexOf(cn)?(++en,{type:Ht.Punctuator,value:cn,lineNumber:tn,lineStart:nn,start:ln,end:en}):void _e({},$t.UnexpectedToken,"ILLEGAL"))}function pe(ln){for(var dn="";en<an&&!!H(Xt[en]);)dn+=Xt[en++];return 0===dn.length&&_e({},$t.UnexpectedToken,"ILLEGAL"),$(Xt.charCodeAt(en))&&_e({},$t.UnexpectedToken,"ILLEGAL"),{type:Ht.NumericLiteral,value:parseInt("0x"+dn,16),lineNumber:tn,lineStart:nn,start:ln,end:en}}function ce(ln){for(var dn="0"+Xt[en++];en<an&&!!G(Xt[en]);)dn+=Xt[en++];return($(Xt.charCodeAt(en))||V(Xt.charCodeAt(en)))&&_e({},$t.UnexpectedToken,"ILLEGAL"),{type:Ht.NumericLiteral,value:parseInt(dn,8),octal:!0,lineNumber:tn,lineStart:nn,start:ln,end:en}}function ue(){var ln,dn;for(ln=en+1;ln<an;++ln){if(dn=Xt[ln],"8"===dn||"9"===dn)return!1;if(!G(dn))return!0}return!0}function ze(){var ln,dn,pn;if(pn=Xt[en],F(V(pn.charCodeAt(0))||"."===pn,"Numeric literal must start with a decimal digit or a decimal point"),dn=en,ln="","."!==pn){if(ln=Xt[en++],pn=Xt[en],"0"===ln){if("x"===pn||"X"===pn)return++en,pe(dn);if(G(pn)&&ue())return ce(dn)}for(;V(Xt.charCodeAt(en));)ln+=Xt[en++];pn=Xt[en]}if("."===pn){for(ln+=Xt[en++];V(Xt.charCodeAt(en));)ln+=Xt[en++];pn=Xt[en]}if("e"===pn||"E"===pn)if(ln+=Xt[en++],pn=Xt[en],("+"==pn||"-"==pn)&&(ln+=Xt[en++]),V(Xt.charCodeAt(en)))for(;V(Xt.charCodeAt(en));)ln+=Xt[en++];else _e({},$t.UnexpectedToken,"ILLEGAL");return $(Xt.charCodeAt(en))&&_e({},$t.UnexpectedToken,"ILLEGAL"),{type:Ht.NumericLiteral,value:parseFloat(ln),lineNumber:tn,lineStart:nn,start:dn,end:en}}function he(){var dn,pn,cn,un,zn,hn,gn,fn,ln="",mn=!1;for(gn=tn,fn=nn,dn=Xt[en],F("'"===dn||"\""===dn,"String literal must starts with a quote"),pn=en,++en;en<an;)if(cn=Xt[en++],cn==dn){dn="";break}else if("\\"===cn)cn=Xt[en++],cn&&Q(cn.charCodeAt(0))?(++tn,"\r"==cn&&"\n"===Xt[en]&&++en,nn=en):"u"===cn||"x"===cn?(hn=en,zn=se(cn),zn?ln+=zn:(en=hn,ln+=cn)):"n"===cn?ln+="\n":"r"===cn?ln+="\r":"t"===cn?ln+="\t":"b"===cn?ln+="\b":"f"===cn?ln+="\f":"v"===cn?ln+="\x0B":G(cn)?(un="01234567".indexOf(cn),0!==un&&(mn=!0),en<an&&G(Xt[en])&&(mn=!0,un=8*un+"01234567".indexOf(Xt[en++]),0<="0123".indexOf(cn)&&en<an&&G(Xt[en])&&(un=8*un+"01234567".indexOf(Xt[en++]))),ln+=String.fromCharCode(un)):ln+=cn;else if(Q(cn.charCodeAt(0)))break;else ln+=cn;return""!==dn&&_e({},$t.UnexpectedToken,"ILLEGAL"),{type:Ht.StringLiteral,value:ln,octal:mn,startLineNumber:gn,startLineStart:fn,lineNumber:tn,lineStart:nn,start:pn,end:en}}function me(ln,dn){var pn;try{pn=new RegExp(ln,dn)}catch(cn){_e({},$t.InvalidRegExp)}return pn}function ge(){var ln,dn,pn,cn,un;for(ln=Xt[en],F("/"===ln,"Regular expression literal must start with a slash"),dn=Xt[en++],pn=!1,cn=!1;en<an;)if(ln=Xt[en++],dn+=ln,"\\"===ln)ln=Xt[en++],Q(ln.charCodeAt(0))&&_e({},$t.UnterminatedRegExp),dn+=ln;else if(Q(ln.charCodeAt(0)))_e({},$t.UnterminatedRegExp);else if(pn)"]"==ln&&(pn=!1);else if("/"===ln){cn=!0;break}else"["===ln&&(pn=!0);return cn||_e({},$t.UnterminatedRegExp),un=dn.substr(1,dn.length-2),{value:un,literal:dn}}function fe(){var ln,dn,pn,cn;for(dn="",pn="";en<an&&(ln=Xt[en],!!J(ln.charCodeAt(0)));)if(++en,!("\\"===ln&&en<an))pn+=ln,dn+=ln;else if(ln=Xt[en],"u"===ln){if(++en,cn=en,ln=se("u"),ln)for(pn+=ln,dn+="\\u";cn<en;++cn)dn+=Xt[cn];else en=cn,pn+="u",dn+="\\u";Be({},$t.UnexpectedToken,"ILLEGAL")}else dn+="\\",Be({},$t.UnexpectedToken,"ILLEGAL");return{value:pn,literal:dn}}function be(){var ln,dn,pn,un;return on=null,oe(),ln=en,dn=ge(),pn=fe(),un=me(dn.value,pn.value),yn.tokenize?{type:Ht.RegularExpression,value:un,lineNumber:tn,lineStart:nn,start:ln,end:en}:{literal:dn.literal+pn.literal,value:un,start:ln,end:en}}function Se(){var ln,dn,pn,cn;return oe(),ln=en,dn={start:{line:tn,column:en-nn}},pn=be(),dn.end={line:tn,column:en-nn},yn.tokenize||(0<yn.tokens.length&&(cn=yn.tokens[yn.tokens.length-1],cn.range[0]===ln&&"Punctuator"===cn.type&&("/"===cn.value||"/="===cn.value)&&yn.tokens.pop()),yn.tokens.push({type:"RegularExpression",value:pn.literal,range:[ln,en],loc:dn})),pn}function ke(ln){return ln.type===Ht.Identifier||ln.type===Ht.Keyword||ln.type===Ht.BooleanLiteral||ln.type===Ht.NullLiteral}function Ee(){var ln,dn;if(ln=yn.tokens[yn.tokens.length-1],!ln)return Se();if("Punctuator"===ln.type){if("]"===ln.value)return de();if(")"===ln.value)return dn=yn.tokens[yn.openParenToken-1],dn&&"Keyword"===dn.type&&("if"===dn.value||"while"===dn.value||"for"===dn.value||"with"===dn.value)?Se():de();if("}"===ln.value){if(!(yn.tokens[yn.openCurlyToken-3]&&"Keyword"===yn.tokens[yn.openCurlyToken-3].type)){if(!(yn.tokens[yn.openCurlyToken-4]&&"Keyword"===yn.tokens[yn.openCurlyToken-4].type))return de();if(dn=yn.tokens[yn.openCurlyToken-5],!dn)return Se()}else if(dn=yn.tokens[yn.openCurlyToken-4],!dn)return de();return 0<=Wt.indexOf(dn.value)?de():Se()}return Se()}return"Keyword"===ln.type&&"this"!==ln.value?Se():de()}function Ie(){var ln;return(oe(),en>=an)?{type:Ht.EOF,lineNumber:tn,lineStart:nn,start:en,end:en}:(ln=Xt.charCodeAt(en),$(ln)?xe():40===ln||41===ln||59===ln?de():39===ln||34===ln?he():46===ln?V(Xt.charCodeAt(en+1))?ze():de():V(ln)?ze():yn.tokenize&&47===ln?Ee():de())}function we(){var ln,dn,cn;return oe(),ln={start:{line:tn,column:en-nn}},dn=Ie(),ln.end={line:tn,column:en-nn},dn.type!==Ht.EOF&&(cn=Xt.slice(dn.start,dn.end),yn.tokens.push({type:Gt[dn.type],value:cn,range:[dn.start,dn.end],loc:ln})),dn}function ve(){var ln;return ln=on,en=ln.end,tn=ln.lineNumber,nn=ln.lineStart,on="undefined"==typeof yn.tokens?Ie():we(),en=ln.end,tn=ln.lineNumber,nn=ln.lineStart,ln}function Ce(){var ln,dn,pn;ln=en,dn=tn,pn=nn,on="undefined"==typeof yn.tokens?Ie():we(),en=ln,tn=dn,nn=pn}function je(ln,dn){this.line=ln,this.column=dn}function Ae(ln,dn,pn,cn){this.start=new je(ln,dn),this.end=new je(pn,cn)}function Le(){var ln,dn,pn,cn;return ln=en,dn=tn,pn=nn,oe(),cn=tn!==dn,en=ln,tn=dn,nn=pn,cn}function _e(ln,dn){var pn,cn=Array.prototype.slice.call(arguments,2),un=dn.replace(/%(\d)/g,function(zn,hn){return F(hn<cn.length,"Message reference must be in range"),cn[hn]});throw"number"==typeof ln.lineNumber?(pn=new Error("Line "+ln.lineNumber+": "+un),pn.index=ln.start,pn.lineNumber=ln.lineNumber,pn.column=ln.start-nn+1):(pn=new Error("Line "+tn+": "+un),pn.index=en,pn.lineNumber=tn,pn.column=en-nn+1),pn.description=un,pn}function Be(){try{_e.apply(null,arguments)}catch(ln){if(yn.errors)yn.errors.push(ln);else throw ln}}function De(ln){if(ln.type===Ht.EOF&&_e(ln,$t.UnexpectedEOS),ln.type===Ht.NumericLiteral&&_e(ln,$t.UnexpectedNumber),ln.type===Ht.StringLiteral&&_e(ln,$t.UnexpectedString),ln.type===Ht.Identifier&&_e(ln,$t.UnexpectedIdentifier),ln.type===Ht.Keyword){if(Y(ln.value))_e(ln,$t.UnexpectedReserved);else if(Zt&&X(ln.value))return void Be(ln,$t.StrictReservedWord);_e(ln,$t.UnexpectedToken,ln.value)}_e(ln,$t.UnexpectedToken,ln.value)}function Ne(ln){var dn=ve();(dn.type!==Ht.Punctuator||dn.value!==ln)&&De(dn)}function Pe(ln){var dn=ve();(dn.type!==Ht.Keyword||dn.value!==ln)&&De(dn)}function Te(ln){return on.type===Ht.Punctuator&&on.value===ln}function Oe(ln){return on.type===Ht.Keyword&&on.value===ln}function Re(){var ln;return!(on.type!==Ht.Punctuator)&&(ln=on.value,"="===ln||"*="===ln||"/="===ln||"%="===ln||"+="===ln||"-="===ln||"<<="===ln||">>="===ln||">>>="===ln||"&="===ln||"^="===ln||"|="===ln)}function Ue(){var ln,dn=en,pn=tn,cn=nn,un=on;return 59===Xt.charCodeAt(en)||Te(";")?void ve():(ln=tn,oe(),tn===ln?void(on.type!==Ht.EOF&&!Te("}")&&De(on)):(en=dn,tn=pn,nn=cn,void(on=un)))}function Fe(ln){return ln.type===Kt.Identifier||ln.type===Kt.MemberExpression}function qe(){var dn,ln=[];for(dn=on,Ne("[");!Te("]");)Te(",")?(ve(),ln.push(null)):(ln.push(ot()),Te("]")||Ne(","));return ve(),rn.markEnd(rn.createArrayExpression(ln),dn)}function Ve(ln,dn){var pn,cn,un;return pn=Zt,un=on,cn=Nt(),dn&&Zt&&ee(ln[0].name)&&Be(dn,$t.StrictParamName),Zt=pn,rn.markEnd(rn.createFunctionExpression(null,ln,[],cn),un)}function Me(){var ln,dn;return dn=on,ln=ve(),ln.type===Ht.StringLiteral||ln.type===Ht.NumericLiteral?(Zt&&ln.octal&&Be(ln,$t.StrictOctalLiteral),rn.markEnd(rn.createLiteral(ln),dn)):rn.markEnd(rn.createIdentifier(ln.value),dn)}function He(){var ln,dn,pn,cn,un,zn;return(ln=on,zn=on,ln.type===Ht.Identifier)?(pn=Me(),"get"===ln.value&&!Te(":"))?(dn=Me(),Ne("("),Ne(")"),cn=Ve([]),rn.markEnd(rn.createProperty("get",dn,cn),zn)):"set"!==ln.value||Te(":")?(Ne(":"),cn=ot(),rn.markEnd(rn.createProperty("init",pn,cn),zn)):(dn=Me(),Ne("("),ln=on,ln.type===Ht.Identifier?(un=[dt()],Ne(")"),cn=Ve(un,ln)):(Ne(")"),Be(ln,$t.UnexpectedToken,ln.value),cn=Ve([])),rn.markEnd(rn.createProperty("set",dn,cn),zn)):ln.type===Ht.EOF||ln.type===Ht.Punctuator?void De(ln):(dn=Me(),Ne(":"),cn=ot(),rn.markEnd(rn.createProperty("init",dn,cn),zn))}function Ge(){var dn,pn,cn,un,mn,ln=[],zn={},hn=String;for(mn=on,Ne("{");!Te("}");)dn=He(),pn=dn.key.type===Kt.Identifier?dn.key.name:hn(dn.key.value),un="init"===dn.kind?Qt.Data:"get"===dn.kind?Qt.Get:Qt.Set,cn="$"+pn,Object.prototype.hasOwnProperty.call(zn,cn)?(zn[cn]===Qt.Data?Zt&&un===Qt.Data?Be({},$t.StrictDuplicateProperty):un!==Qt.Data&&Be({},$t.AccessorDataProperty):un===Qt.Data?Be({},$t.AccessorDataProperty):zn[cn]&un&&Be({},$t.AccessorGetSet),zn[cn]|=un):zn[cn]=un,ln.push(dn),Te("}")||Ne(",");return Ne("}"),rn.markEnd(rn.createObjectExpression(ln),mn)}function We(){var ln;return Ne("("),ln=yt(),Ne(")"),ln}function Ke(){var ln,dn,pn,cn;if(Te("("))return We();if(Te("["))return qe();if(Te("{"))return Ge();if(ln=on.type,cn=on,ln===Ht.Identifier)pn=rn.createIdentifier(ve().value);else if(ln===Ht.StringLiteral||ln===Ht.NumericLiteral)Zt&&on.octal&&Be(on,$t.StrictOctalLiteral),pn=rn.createLiteral(ve());else if(ln===Ht.Keyword){if(Oe("function"))return Ot();Oe("this")?(ve(),pn=rn.createThisExpression()):De(ve())}else ln===Ht.BooleanLiteral?(dn=ve(),dn.value="true"===dn.value,pn=rn.createLiteral(dn)):ln===Ht.NullLiteral?(dn=ve(),dn.value=null,pn=rn.createLiteral(dn)):Te("/")||Te("/=")?(pn="undefined"==typeof yn.tokens?rn.createLiteral(be()):rn.createLiteral(Se()),Ce()):De(ve());return rn.markEnd(pn,cn)}function Qe(){var ln=[];if(Ne("("),!Te(")"))for(;en<an&&(ln.push(ot()),!Te(")"));)Ne(",");return Ne(")"),ln}function $e(){var ln,dn;return dn=on,ln=ve(),ke(ln)||De(ln),rn.markEnd(rn.createIdentifier(ln.value),dn)}function Je(){return Ne("."),$e()}function Ye(){var ln;return Ne("["),ln=yt(),Ne("]"),ln}function Xe(){var ln,dn,pn;return pn=on,Pe("new"),ln=et(),dn=Te("(")?Qe():[],rn.markEnd(rn.createNewExpression(ln,dn),pn)}function Ze(){var ln,dn,pn,cn,un=sn.allowIn;for(cn=on,sn.allowIn=!0,ln=Oe("new")?Xe():Ke();;){if(Te("."))pn=Je(),ln=rn.createMemberExpression(".",ln,pn);else if(Te("("))dn=Qe(),ln=rn.createCallExpression(ln,dn);else if(Te("["))pn=Ye(),ln=rn.createMemberExpression("[",ln,pn);else break;rn.markEnd(ln,cn)}return sn.allowIn=un,ln}function et(){var ln,dn,pn;for(F(sn.allowIn,"callee of new expression always allow in keyword."),pn=on,ln=Oe("new")?Xe():Ke();Te(".")||Te("[");)Te("[")?(dn=Ye(),ln=rn.createMemberExpression("[",ln,dn)):(dn=Je(),ln=rn.createMemberExpression(".",ln,dn)),rn.markEnd(ln,pn);return ln}function tt(){var ln,dn,pn=on;return ln=Ze(),on.type===Ht.Punctuator&&(Te("++")||Te("--"))&&!Le()&&(Zt&&ln.type===Kt.Identifier&&ee(ln.name)&&Be({},$t.StrictLHSPostfix),!Fe(ln)&&Be({},$t.InvalidLHSInAssignment),dn=ve(),ln=rn.markEnd(rn.createPostfixExpression(dn.value,ln),pn)),ln}function nt(){var ln,dn,pn;return on.type!==Ht.Punctuator&&on.type!==Ht.Keyword?dn=tt():Te("++")||Te("--")?(pn=on,ln=ve(),dn=nt(),Zt&&dn.type===Kt.Identifier&&ee(dn.name)&&Be({},$t.StrictLHSPrefix),!Fe(dn)&&Be({},$t.InvalidLHSInAssignment),dn=rn.createUnaryExpression(ln.value,dn),dn=rn.markEnd(dn,pn)):Te("+")||Te("-")||Te("~")||Te("!")?(pn=on,ln=ve(),dn=nt(),dn=rn.createUnaryExpression(ln.value,dn),dn=rn.markEnd(dn,pn)):Oe("delete")||Oe("void")||Oe("typeof")?(pn=on,ln=ve(),dn=nt(),dn=rn.createUnaryExpression(ln.value,dn),dn=rn.markEnd(dn,pn),Zt&&"delete"===dn.operator&&dn.argument.type===Kt.Identifier&&Be({},$t.StrictDelete)):dn=tt(),dn}function at(ln,dn){var pn=0;if(ln.type!==Ht.Punctuator&&ln.type!==Ht.Keyword)return 0;switch(ln.value){case"||":pn=1;break;case"&&":pn=2;break;case"|":pn=3;break;case"^":pn=4;break;case"&":pn=5;break;case"==":case"!=":case"===":case"!==":pn=6;break;case"<":case">":case"<=":case">=":case"instanceof":pn=7;break;case"in":pn=dn?7:0;break;case"<<":case">>":case">>>":pn=8;break;case"+":case"-":pn=9;break;case"*":case"/":case"%":pn=11;break;default:}return pn}function rt(){var ln,dn,pn,cn,un,zn,hn,mn,gn,fn;if(ln=on,gn=nt(),cn=on,un=at(cn,sn.allowIn),0===un)return gn;for(cn.prec=un,ve(),dn=[ln,on],hn=nt(),zn=[gn,cn,hn];0<(un=at(on,sn.allowIn));){for(;2<zn.length&&un<=zn[zn.length-2].prec;)hn=zn.pop(),mn=zn.pop().value,gn=zn.pop(),pn=rn.createBinaryExpression(mn,gn,hn),dn.pop(),ln=dn[dn.length-1],rn.markEnd(pn,ln),zn.push(pn);cn=ve(),cn.prec=un,zn.push(cn),dn.push(on),pn=nt(),zn.push(pn)}for(fn=zn.length-1,pn=zn[fn],dn.pop();1<fn;)pn=rn.createBinaryExpression(zn[fn-1].value,zn[fn-2],pn),fn-=2,ln=dn.pop(),rn.markEnd(pn,ln);return pn}function it(){var ln,dn,pn,cn,un;return un=on,ln=rt(),Te("?")&&(ve(),dn=sn.allowIn,sn.allowIn=!0,pn=ot(),sn.allowIn=dn,Ne(":"),cn=ot(),ln=rn.createConditionalExpression(ln,pn,cn),rn.markEnd(ln,un)),ln}function ot(){var ln,dn,pn,cn,un;return ln=on,un=on,cn=dn=it(),Re()&&(!Fe(dn)&&Be({},$t.InvalidLHSInAssignment),Zt&&dn.type===Kt.Identifier&&ee(dn.name)&&Be(ln,$t.StrictLHSAssignment),ln=ve(),pn=ot(),cn=rn.markEnd(rn.createAssignmentExpression(ln.value,dn,pn),un)),cn}function yt(){var ln,dn=on;if(ln=ot(),Te(",")){for(ln=rn.createSequenceExpression([ln]);en<an&&!!Te(",");)ve(),ln.expressions.push(ot());rn.markEnd(ln,dn)}return ln}function lt(){for(var dn,ln=[];en<an&&!Te("}")&&!(dn=Rt(),"undefined"==typeof dn);)ln.push(dn);return ln}function xt(){var ln,dn;return dn=on,Ne("{"),ln=lt(),Ne("}"),rn.markEnd(rn.createBlockStatement(ln),dn)}function dt(){var ln,dn;return dn=on,ln=ve(),ln.type!==Ht.Identifier&&De(ln),rn.markEnd(rn.createIdentifier(ln.value),dn)}function pt(ln){var pn,cn,dn=null;return cn=on,pn=dt(),Zt&&ee(pn.name)&&Be({},$t.StrictVarName),"const"===ln?(Ne("="),dn=ot()):Te("=")&&(ve(),dn=ot()),rn.markEnd(rn.createVariableDeclarator(pn,dn),cn)}function ct(ln){var dn=[];do{if(dn.push(pt(ln)),!Te(","))break;ve()}while(en<an);return dn}function ut(){var ln;return Pe("var"),ln=ct(),Ue(),rn.createVariableDeclaration(ln,"var")}function zt(ln){var dn,pn;return pn=on,Pe(ln),dn=ct(ln),Ue(),rn.markEnd(rn.createVariableDeclaration(dn,ln),pn)}function ht(){return Ne(";"),rn.createEmptyStatement()}function mt(){var ln=yt();return Ue(),rn.createExpressionStatement(ln)}function gt(){var ln,dn,pn;return Pe("if"),Ne("("),ln=yt(),Ne(")"),dn=Dt(),Oe("else")?(ve(),pn=Dt()):pn=null,rn.createIfStatement(ln,dn,pn)}function ft(){var ln,dn,pn;return Pe("do"),pn=sn.inIteration,sn.inIteration=!0,ln=Dt(),sn.inIteration=pn,Pe("while"),Ne("("),dn=yt(),Ne(")"),Te(";")&&ve(),rn.createDoWhileStatement(ln,dn)}function bt(){var ln,dn,pn;return Pe("while"),Ne("("),ln=yt(),Ne(")"),pn=sn.inIteration,sn.inIteration=!0,dn=Dt(),sn.inIteration=pn,rn.createWhileStatement(ln,dn)}function St(){var ln,dn,pn;return pn=on,ln=ve(),dn=ct(),rn.markEnd(rn.createVariableDeclaration(dn,ln.value),pn)}function kt(){var ln,dn,pn,cn,un,zn,hn,mn=sn.allowIn;return ln=dn=pn=null,Pe("for"),Ne("("),Te(";")?ve():(Oe("var")||Oe("let")?(sn.allowIn=!1,ln=St(),sn.allowIn=mn,1===ln.declarations.length&&Oe("in")&&(ve(),cn=ln,un=yt(),ln=null)):(sn.allowIn=!1,ln=yt(),sn.allowIn=mn,Oe("in")&&(!Fe(ln)&&Be({},$t.InvalidLHSInForIn),ve(),cn=ln,un=yt(),ln=null)),"undefined"==typeof cn&&Ne(";")),"undefined"==typeof cn&&(!Te(";")&&(dn=yt()),Ne(";"),!Te(")")&&(pn=yt())),Ne(")"),hn=sn.inIteration,sn.inIteration=!0,zn=Dt(),sn.inIteration=hn,"undefined"==typeof cn?rn.createForStatement(ln,dn,pn,zn):rn.createForInStatement(cn,un,zn)}function Et(){var dn,ln=null;return(Pe("continue"),59===Xt.charCodeAt(en))?(ve(),sn.inIteration||_e({},$t.IllegalContinue),rn.createContinueStatement(null)):Le()?(sn.inIteration||_e({},$t.IllegalContinue),rn.createContinueStatement(null)):(on.type===Ht.Identifier&&(ln=dt(),dn="$"+ln.name,!Object.prototype.hasOwnProperty.call(sn.labelSet,dn)&&_e({},$t.UnknownLabel,ln.name)),Ue(),null!=ln||sn.inIteration||_e({},$t.IllegalContinue),rn.createContinueStatement(ln))}function It(){var dn,ln=null;return(Pe("break"),59===Xt.charCodeAt(en))?(ve(),sn.inIteration||sn.inSwitch||_e({},$t.IllegalBreak),rn.createBreakStatement(null)):Le()?(sn.inIteration||sn.inSwitch||_e({},$t.IllegalBreak),rn.createBreakStatement(null)):(on.type===Ht.Identifier&&(ln=dt(),dn="$"+ln.name,!Object.prototype.hasOwnProperty.call(sn.labelSet,dn)&&_e({},$t.UnknownLabel,ln.name)),Ue(),null!=ln||sn.inIteration||sn.inSwitch||_e({},$t.IllegalBreak),rn.createBreakStatement(ln))}function wt(){var ln=null;return(Pe("return"),sn.inFunctionBody||Be({},$t.IllegalReturn),32===Xt.charCodeAt(en)&&$(Xt.charCodeAt(en+1)))?(ln=yt(),Ue(),rn.createReturnStatement(ln)):Le()?rn.createReturnStatement(null):(Te(";")||Te("}")||on.type===Ht.EOF||(ln=yt()),Ue(),rn.createReturnStatement(ln))}function vt(){var ln,dn;return Zt&&(oe(),Be({},$t.StrictModeWith)),Pe("with"),Ne("("),ln=yt(),Ne(")"),dn=Dt(),rn.createWithStatement(ln,dn)}function Ct(){var ln,pn,cn,dn=[];for(cn=on,Oe("default")?(ve(),ln=null):(Pe("case"),ln=yt()),Ne(":");en<an&&!(Te("}")||Oe("default")||Oe("case"));)pn=Dt(),dn.push(pn);return rn.markEnd(rn.createSwitchCase(ln,dn),cn)}function jt(){var ln,dn,pn,cn,un;if(Pe("switch"),Ne("("),ln=yt(),Ne(")"),Ne("{"),dn=[],Te("}"))return ve(),rn.createSwitchStatement(ln,dn);for(cn=sn.inSwitch,sn.inSwitch=!0,un=!1;en<an&&!Te("}");)pn=Ct(),null===pn.test&&(un&&_e({},$t.MultipleDefaultsInSwitch),un=!0),dn.push(pn);return sn.inSwitch=cn,Ne("}"),rn.createSwitchStatement(ln,dn)}function At(){var ln;return Pe("throw"),Le()&&_e({},$t.NewlineAfterThrow),ln=yt(),Ue(),rn.createThrowStatement(ln)}function Lt(){var ln,dn,pn;return pn=on,Pe("catch"),Ne("("),Te(")")&&De(on),ln=dt(),Zt&&ee(ln.name)&&Be({},$t.StrictCatchVariable),Ne(")"),dn=xt(),rn.markEnd(rn.createCatchClause(ln,dn),pn)}function _t(){var ln,dn=[],pn=null;return Pe("try"),ln=xt(),Oe("catch")&&dn.push(Lt()),Oe("finally")&&(ve(),pn=xt()),0!==dn.length||pn||_e({},$t.NoCatchOrFinally),rn.createTryStatement(ln,[],dn,pn)}function Bt(){return Pe("debugger"),Ue(),rn.createDebuggerStatement()}function Dt(){var dn,pn,cn,un,ln=on.type;if(ln===Ht.EOF&&De(on),ln===Ht.Punctuator&&"{"===on.value)return xt();if(un=on,ln===Ht.Punctuator)switch(on.value){case";":return rn.markEnd(ht(),un);case"(":return rn.markEnd(mt(),un);default:}if(ln===Ht.Keyword)switch(on.value){case"break":return rn.markEnd(It(),un);case"continue":return rn.markEnd(Et(),un);case"debugger":return rn.markEnd(Bt(),un);case"do":return rn.markEnd(ft(),un);case"for":return rn.markEnd(kt(),un);case"function":return rn.markEnd(Tt(),un);case"if":return rn.markEnd(gt(),un);case"return":return rn.markEnd(wt(),un);case"switch":return rn.markEnd(jt(),un);case"throw":return rn.markEnd(At(),un);case"try":return rn.markEnd(_t(),un);case"var":return rn.markEnd(ut(),un);case"while":return rn.markEnd(bt(),un);case"with":return rn.markEnd(vt(),un);default:}return(dn=yt(),dn.type===Kt.Identifier&&Te(":"))?(ve(),cn="$"+dn.name,Object.prototype.hasOwnProperty.call(sn.labelSet,cn)&&_e({},$t.Redeclaration,"Label",dn.name),sn.labelSet[cn]=!0,pn=Dt(),delete sn.labelSet[cn],rn.markEnd(rn.createLabeledStatement(dn,pn),un)):(Ue(),rn.markEnd(rn.createExpressionStatement(dn),un))}function Nt(){var ln,pn,cn,un,zn,hn,mn,gn,fn,dn=[];for(fn=on,Ne("{");en<an&&on.type===Ht.StringLiteral&&(pn=on,ln=Rt(),dn.push(ln),ln.expression.type===Kt.Literal);)cn=Xt.slice(pn.start+1,pn.end-1),"use strict"===cn?(Zt=!0,un&&Be(un,$t.StrictOctalLiteral)):!un&&pn.octal&&(un=pn);for(zn=sn.labelSet,hn=sn.inIteration,mn=sn.inSwitch,gn=sn.inFunctionBody,sn.labelSet={},sn.inIteration=!1,sn.inSwitch=!1,sn.inFunctionBody=!0;en<an&&!Te("}")&&(ln=Rt(),"undefined"!=typeof ln);)dn.push(ln);return Ne("}"),sn.labelSet=zn,sn.inIteration=hn,sn.inSwitch=mn,sn.inFunctionBody=gn,rn.markEnd(rn.createBlockStatement(dn),fn)}function Pt(ln){var dn,cn,un,zn,hn,mn,pn=[];if(Ne("("),!Te(")"))for(zn={};en<an&&(cn=on,dn=dt(),hn="$"+cn.value,Zt?(ee(cn.value)&&(un=cn,mn=$t.StrictParamName),Object.prototype.hasOwnProperty.call(zn,hn)&&(un=cn,mn=$t.StrictParamDupe)):!ln&&(ee(cn.value)?(ln=cn,mn=$t.StrictParamName):X(cn.value)?(ln=cn,mn=$t.StrictReservedWord):Object.prototype.hasOwnProperty.call(zn,hn)&&(ln=cn,mn=$t.StrictParamDupe)),pn.push(dn),zn[hn]=!0,!Te(")"));)Ne(",");return Ne(")"),{params:pn,stricted:un,firstRestricted:ln,message:mn}}function Tt(){var ln,pn,cn,un,zn,hn,mn,gn,fn,dn=[];return fn=on,Pe("function"),cn=on,ln=dt(),Zt?ee(cn.value)&&Be(cn,$t.StrictFunctionName):ee(cn.value)?(hn=cn,mn=$t.StrictFunctionName):X(cn.value)&&(hn=cn,mn=$t.StrictReservedWord),zn=Pt(hn),dn=zn.params,un=zn.stricted,hn=zn.firstRestricted,zn.message&&(mn=zn.message),gn=Zt,pn=Nt(),Zt&&hn&&_e(hn,mn),Zt&&un&&Be(un,mn),Zt=gn,rn.markEnd(rn.createFunctionDeclaration(ln,dn,[],pn),fn)}function Ot(){var ln,pn,cn,un,zn,mn,gn,fn,dn=null,hn=[];return fn=on,Pe("function"),Te("(")||(ln=on,dn=dt(),Zt?ee(ln.value)&&Be(ln,$t.StrictFunctionName):ee(ln.value)?(cn=ln,un=$t.StrictFunctionName):X(ln.value)&&(cn=ln,un=$t.StrictReservedWord)),zn=Pt(cn),hn=zn.params,pn=zn.stricted,cn=zn.firstRestricted,zn.message&&(un=zn.message),gn=Zt,mn=Nt(),Zt&&cn&&_e(cn,un),Zt&&pn&&Be(pn,un),Zt=gn,rn.markEnd(rn.createFunctionExpression(dn,hn,[],mn),fn)}function Rt(){if(on.type===Ht.Keyword)switch(on.value){case"const":case"let":return zt(on.value);case"function":return Tt();default:return Dt();}return on.type===Ht.EOF?void 0:Dt()}function Ut(){for(var ln,pn,cn,un,dn=[];en<an&&(pn=on,pn.type===Ht.StringLiteral)&&!(ln=Rt(),dn.push(ln),ln.expression.type!==Kt.Literal);)cn=Xt.slice(pn.start+1,pn.end-1),"use strict"===cn?(Zt=!0,un&&Be(un,$t.StrictOctalLiteral)):!un&&pn.octal&&(un=pn);for(;en<an&&(ln=Rt(),"undefined"!=typeof ln);)dn.push(ln);return dn}function Ft(){var ln,dn;return oe(),Ce(),dn=on,Zt=!1,ln=Ut(),rn.markEnd(rn.createProgram(ln),dn)}function qt(){var ln,dn,pn,cn=[];for(ln=0;ln<yn.tokens.length;++ln)dn=yn.tokens[ln],pn={type:dn.type,value:dn.value},yn.range&&(pn.range=dn.range),yn.loc&&(pn.loc=dn.loc),cn.push(pn);yn.tokens=cn}var Ht,Gt,Wt,Kt,Qt,$t,Jt,Yt,Xt,Zt,en,tn,nn,an,rn,on,sn,yn;Ht={BooleanLiteral:1,EOF:2,Identifier:3,Keyword:4,NullLiteral:5,NumericLiteral:6,Punctuator:7,StringLiteral:8,RegularExpression:9},Gt={},Gt[Ht.BooleanLiteral]="Boolean",Gt[Ht.EOF]="<end>",Gt[Ht.Identifier]="Identifier",Gt[Ht.Keyword]="Keyword",Gt[Ht.NullLiteral]="Null",Gt[Ht.NumericLiteral]="Numeric",Gt[Ht.Punctuator]="Punctuator",Gt[Ht.StringLiteral]="String",Gt[Ht.RegularExpression]="RegularExpression",Wt=["(","{","[","in","typeof","instanceof","new","return","case","delete","throw","void","=","+=","-=","*=","/=","%=","<<=",">>=",">>>=","&=","|=","^=",",","+","-","*","/","%","++","--","<<",">>",">>>","&","|","^","!","~","&&","||","?",":","===","==",">=","<=","<",">","!=","!=="],Kt={AssignmentExpression:"AssignmentExpression",ArrayExpression:"ArrayExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DoWhileStatement:"DoWhileStatement",DebuggerStatement:"DebuggerStatement",EmptyStatement:"EmptyStatement",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForInStatement:"ForInStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",Identifier:"Identifier",IfStatement:"IfStatement",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",Program:"Program",Property:"Property",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SwitchStatement:"SwitchStatement",SwitchCase:"SwitchCase",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement"},Qt={Data:1,Get:2,Set:4},$t={UnexpectedToken:"Unexpected token %0",UnexpectedNumber:"Unexpected number",UnexpectedString:"Unexpected string",UnexpectedIdentifier:"Unexpected identifier",UnexpectedReserved:"Unexpected reserved word",UnexpectedEOS:"Unexpected end of input",NewlineAfterThrow:"Illegal newline after throw",InvalidRegExp:"Invalid regular expression",UnterminatedRegExp:"Invalid regular expression: missing /",InvalidLHSInAssignment:"Invalid left-hand side in assignment",InvalidLHSInForIn:"Invalid left-hand side in for-in",MultipleDefaultsInSwitch:"More than one default clause in switch statement",NoCatchOrFinally:"Missing catch or finally after try",UnknownLabel:"Undefined label '%0'",Redeclaration:"%0 '%1' has already been declared",IllegalContinue:"Illegal continue statement",IllegalBreak:"Illegal break statement",IllegalReturn:"Illegal return statement",StrictModeWith:"Strict mode code may not include a with statement",StrictCatchVariable:"Catch variable may not be eval or arguments in strict mode",StrictVarName:"Variable name may not be eval or arguments in strict mode",StrictParamName:"Parameter name eval or arguments is not allowed in strict mode",StrictParamDupe:"Strict mode function may not have duplicate parameter names",StrictFunctionName:"Function name may not be eval or arguments in strict mode",StrictOctalLiteral:"Octal literals are not allowed in strict mode.",StrictDelete:"Delete of an unqualified identifier in strict mode.",StrictDuplicateProperty:"Duplicate data property in object literal not allowed in strict mode",AccessorDataProperty:"Object literal may not have data and accessor property with the same name",AccessorGetSet:"Object literal may not have multiple get/set accessors with the same name",StrictLHSAssignment:"Assignment to eval or arguments is not allowed in strict mode",StrictLHSPostfix:"Postfix increment/decrement may not have eval or arguments operand in strict mode",StrictLHSPrefix:"Prefix increment/decrement may not have eval or arguments operand in strict mode",StrictReservedWord:"Use of future reserved word in strict mode"},Jt={NonAsciiIdentifierStart:/[------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------]/,NonAsciiIdentifierPart:/[------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------]/},Yt={name:"SyntaxTree",processComment:function(ln){var dn,pn;if(!(ln.type===Kt.Program&&0<ln.body.length)){for(0<yn.trailingComments.length?yn.trailingComments[0].range[0]>=ln.range[1]?(pn=yn.trailingComments,yn.trailingComments=[]):yn.trailingComments.length=0:0<yn.bottomRightStack.length&&yn.bottomRightStack[yn.bottomRightStack.length-1].trailingComments&&yn.bottomRightStack[yn.bottomRightStack.length-1].trailingComments[0].range[0]>=ln.range[1]&&(pn=yn.bottomRightStack[yn.bottomRightStack.length-1].trailingComments,delete yn.bottomRightStack[yn.bottomRightStack.length-1].trailingComments);0<yn.bottomRightStack.length&&yn.bottomRightStack[yn.bottomRightStack.length-1].range[0]>=ln.range[0];)dn=yn.bottomRightStack.pop();dn?dn.leadingComments&&dn.leadingComments[dn.leadingComments.length-1].range[1]<=ln.range[0]&&(ln.leadingComments=dn.leadingComments,delete dn.leadingComments):0<yn.leadingComments.length&&yn.leadingComments[yn.leadingComments.length-1].range[1]<=ln.range[0]&&(ln.leadingComments=yn.leadingComments,yn.leadingComments=[]),pn&&(ln.trailingComments=pn),yn.bottomRightStack.push(ln)}},markEnd:function(ln,dn){return yn.range&&(ln.range=[dn.start,en]),yn.loc&&(ln.loc=new Ae(void 0===dn.startLineNumber?dn.lineNumber:dn.startLineNumber,dn.start-(void 0===dn.startLineStart?dn.lineStart:dn.startLineStart),tn,en-nn),this.postProcess(ln)),yn.attachComment&&this.processComment(ln),ln},postProcess:function(ln){return yn.source&&(ln.loc.source=yn.source),ln},createArrayExpression:function(ln){return{type:Kt.ArrayExpression,elements:ln}},createAssignmentExpression:function(ln,dn,pn){return{type:Kt.AssignmentExpression,operator:ln,left:dn,right:pn}},createBinaryExpression:function(ln,dn,pn){var cn="||"===ln||"&&"===ln?Kt.LogicalExpression:Kt.BinaryExpression;return{type:cn,operator:ln,left:dn,right:pn}},createBlockStatement:function(ln){return{type:Kt.BlockStatement,body:ln}},createBreakStatement:function(ln){return{type:Kt.BreakStatement,label:ln}},createCallExpression:function(ln,dn){return{type:Kt.CallExpression,callee:ln,arguments:dn}},createCatchClause:function(ln,dn){return{type:Kt.CatchClause,param:ln,body:dn}},createConditionalExpression:function(ln,dn,pn){return{type:Kt.ConditionalExpression,test:ln,consequent:dn,alternate:pn}},createContinueStatement:function(ln){return{type:Kt.ContinueStatement,label:ln}},createDebuggerStatement:function(){return{type:Kt.DebuggerStatement}},createDoWhileStatement:function(ln,dn){return{type:Kt.DoWhileStatement,body:ln,test:dn}},createEmptyStatement:function(){return{type:Kt.EmptyStatement}},createExpressionStatement:function(ln){return{type:Kt.ExpressionStatement,expression:ln}},createForStatement:function(ln,dn,pn,cn){return{type:Kt.ForStatement,init:ln,test:dn,update:pn,body:cn}},createForInStatement:function(ln,dn,pn){return{type:Kt.ForInStatement,left:ln,right:dn,body:pn,each:!1}},createFunctionDeclaration:function(ln,dn,pn,cn){return{type:Kt.FunctionDeclaration,id:ln,params:dn,defaults:pn,body:cn,rest:null,generator:!1,expression:!1}},createFunctionExpression:function(ln,dn,pn,cn){return{type:Kt.FunctionExpression,id:ln,params:dn,defaults:pn,body:cn,rest:null,generator:!1,expression:!1}},createIdentifier:function(ln){return{type:Kt.Identifier,name:ln}},createIfStatement:function(ln,dn,pn){return{type:Kt.IfStatement,test:ln,consequent:dn,alternate:pn}},createLabeledStatement:function(ln,dn){return{type:Kt.LabeledStatement,label:ln,body:dn}},createLiteral:function(ln){return{type:Kt.Literal,value:ln.value,raw:Xt.slice(ln.start,ln.end)}},createMemberExpression:function(ln,dn,pn){return{type:Kt.MemberExpression,computed:"["===ln,object:dn,property:pn}},createNewExpression:function(ln,dn){return{type:Kt.NewExpression,callee:ln,arguments:dn}},createObjectExpression:function(ln){return{type:Kt.ObjectExpression,properties:ln}},createPostfixExpression:function(ln,dn){return{type:Kt.UpdateExpression,operator:ln,argument:dn,prefix:!1}},createProgram:function(ln){return{type:Kt.Program,body:ln}},createProperty:function(ln,dn,pn){return{type:Kt.Property,key:dn,value:pn,kind:ln}},createReturnStatement:function(ln){return{type:Kt.ReturnStatement,argument:ln}},createSequenceExpression:function(ln){return{type:Kt.SequenceExpression,expressions:ln}},createSwitchCase:function(ln,dn){return{type:Kt.SwitchCase,test:ln,consequent:dn}},createSwitchStatement:function(ln,dn){return{type:Kt.SwitchStatement,discriminant:ln,cases:dn}},createThisExpression:function(){return{type:Kt.ThisExpression}},createThrowStatement:function(ln){return{type:Kt.ThrowStatement,argument:ln}},createTryStatement:function(ln,dn,pn,cn){return{type:Kt.TryStatement,block:ln,guardedHandlers:dn,handlers:pn,finalizer:cn}},createUnaryExpression:function(ln,dn){return"++"===ln||"--"===ln?{type:Kt.UpdateExpression,operator:ln,argument:dn,prefix:!0}:{type:Kt.UnaryExpression,operator:ln,argument:dn,prefix:!0}},createVariableDeclaration:function(ln,dn){return{type:Kt.VariableDeclaration,declarations:ln,kind:dn}},createVariableDeclarator:function(ln,dn){return{type:Kt.VariableDeclarator,id:ln,init:dn}},createWhileStatement:function(ln,dn){return{type:Kt.WhileStatement,test:ln,body:dn}},createWithStatement:function(ln,dn){return{type:Kt.WithStatement,object:ln,body:dn}}},O.version="1.2.5",O.tokenize=function(ln,dn){var pn,cn,un;pn=String,"string"==typeof ln||ln instanceof String||(ln=pn(ln)),rn=Yt,Xt=ln,en=0,tn=0<Xt.length?1:0,nn=0,an=Xt.length,on=null,sn={allowIn:!0,labelSet:{},inFunctionBody:!1,inIteration:!1,inSwitch:!1,lastCommentStart:-1},yn={},dn=dn||{},dn.tokens=!0,yn.tokens=[],yn.tokenize=!0,yn.openParenToken=-1,yn.openCurlyToken=-1,yn.range="boolean"==typeof dn.range&&dn.range,yn.loc="boolean"==typeof dn.loc&&dn.loc,"boolean"==typeof dn.comment&&dn.comment&&(yn.comments=[]),"boolean"==typeof dn.tolerant&&dn.tolerant&&(yn.errors=[]);try{if(Ce(),on.type===Ht.EOF)return yn.tokens;for(cn=ve();on.type!==Ht.EOF;)try{cn=ve()}catch(zn){if(cn=on,yn.errors){yn.errors.push(zn);break}else throw zn}qt(),un=yn.tokens,"undefined"!=typeof yn.comments&&(un.comments=yn.comments),"undefined"!=typeof yn.errors&&(un.errors=yn.errors)}catch(zn){throw zn}finally{yn={}}return un},O.parse=function(ln,dn){var pn,cn;cn=String,"string"==typeof ln||ln instanceof String||(ln=cn(ln)),rn=Yt,Xt=ln,en=0,tn=0<Xt.length?1:0,nn=0,an=Xt.length,on=null,sn={allowIn:!0,labelSet:{},inFunctionBody:!1,inIteration:!1,inSwitch:!1,lastCommentStart:-1},yn={},"undefined"!=typeof dn&&(yn.range="boolean"==typeof dn.range&&dn.range,yn.loc="boolean"==typeof dn.loc&&dn.loc,yn.attachComment="boolean"==typeof dn.attachComment&&dn.attachComment,yn.loc&&null!==dn.source&&dn.source!==void 0&&(yn.source=cn(dn.source)),"boolean"==typeof dn.tokens&&dn.tokens&&(yn.tokens=[]),"boolean"==typeof dn.comment&&dn.comment&&(yn.comments=[]),"boolean"==typeof dn.tolerant&&dn.tolerant&&(yn.errors=[]),yn.attachComment&&(yn.range=!0,yn.comments=[],yn.bottomRightStack=[],yn.trailingComments=[],yn.leadingComments=[]));try{pn=Ft(),"undefined"!=typeof yn.comments&&(pn.comments=yn.comments),"undefined"!=typeof yn.tokens&&(qt(),pn.tokens=yn.tokens),"undefined"!=typeof yn.errors&&(pn.errors=yn.errors)}catch(un){throw un}finally{yn={}}return pn},O.Syntax=function(){var ln,dn={};for(ln in"function"==typeof Object.create&&(dn=Object.create(null)),Kt)Kt.hasOwnProperty(ln)&&(dn[ln]=Kt[ln]);return"function"==typeof Object.freeze&&Object.freeze(dn),dn}()})},{}],14:[function(S,N){"use strict";N.exports=function(F){for(var V=Array(F),H=0;H<F;++H)V[H]=H;return V}},{}],15:[function(S,N){function O(V){return!!V.constructor&&"function"==typeof V.constructor.isBuffer&&V.constructor.isBuffer(V)}function F(V){return"function"==typeof V.readFloatLE&&"function"==typeof V.slice&&O(V.slice(0,0))}N.exports=function(V){return null!=V&&(O(V)||F(V)||!!V._isBuffer)}},{}],16:[function(S,N){function O(Y,X){return Y[0]-X[0]}function F(){var Y=this.stride,X=Array(Y.length),ee;for(ee=0;ee<X.length;++ee)X[ee]=[Math.abs(Y[ee]),ee];X.sort(O);var te=Array(X.length);for(ee=0;ee<te.length;++ee)te[ee]=X[ee][1];return te}function V(Y,X){var ee=["View",X,"d",Y].join("");0>X&&(ee="View_Nil"+Y);var te="generic"===Y;if(-1===X){var ne="function "+ee+"(a){this.data=a;};var proto="+ee+".prototype;proto.dtype='"+Y+"';proto.index=function(){return -1};proto.size=0;proto.dimension=-1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function(){return new "+ee+"(this.data);};proto.get=proto.set=function(){};proto.pick=function(){return null};return function construct_"+ee+"(a){return new "+ee+"(a);}",ae=new Function(ne);return ae()}if(0===X){var ne="function "+ee+"(a,d) {this.data = a;this.offset = d};var proto="+ee+".prototype;proto.dtype='"+Y+"';proto.index=function(){return this.offset};proto.dimension=0;proto.size=1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function "+ee+"_copy() {return new "+ee+"(this.data,this.offset)};proto.pick=function "+ee+"_pick(){return TrivialArray(this.data);};proto.valueOf=proto.get=function "+ee+"_get(){return "+(te?"this.data.get(this.offset)":"this.data[this.offset]")+"};proto.set=function "+ee+"_set(v){return "+(te?"this.data.set(this.offset,v)":"this.data[this.offset]=v")+"};return function construct_"+ee+"(a,b,c,d){return new "+ee+"(a,d)}",ae=new Function("TrivialArray",ne);return ae(J[Y][0])}var ne=["'use strict'"],ie=K(X),oe=ie.map(function(ze){return"i"+ze}),se="this.offset+"+ie.map(function(ze){return"this.stride["+ze+"]*i"+ze}).join("+"),ye=ie.map(function(ze){return"b"+ze}).join(","),le=ie.map(function(ze){return"c"+ze}).join(",");ne.push("function "+ee+"(a,"+ye+","+le+",d){this.data=a","this.shape=["+ye+"]","this.stride=["+le+"]","this.offset=d|0}","var proto="+ee+".prototype","proto.dtype='"+Y+"'","proto.dimension="+X),ne.push("Object.defineProperty(proto,'size',{get:function "+ee+"_size(){return "+ie.map(function(ze){return"this.shape["+ze+"]"}).join("*"),"}})"),1===X?ne.push("proto.order=[0]"):(ne.push("Object.defineProperty(proto,'order',{get:"),4>X?(ne.push("function "+ee+"_order(){"),2===X?ne.push("return (Math.abs(this.stride[0])>Math.abs(this.stride[1]))?[1,0]:[0,1]}})"):3==X&&ne.push("var s0=Math.abs(this.stride[0]),s1=Math.abs(this.stride[1]),s2=Math.abs(this.stride[2]);if(s0>s1){if(s1>s2){return [2,1,0];}else if(s0>s2){return [1,2,0];}else{return [1,0,2];}}else if(s0>s2){return [2,0,1];}else if(s2>s1){return [0,1,2];}else{return [0,2,1];}}})")):ne.push("ORDER})")),ne.push("proto.set=function "+ee+"_set("+oe.join(",")+",v){"),te?ne.push("return this.data.set("+se+",v)}"):ne.push("return this.data["+se+"]=v}"),ne.push("proto.get=function "+ee+"_get("+oe.join(",")+"){"),te?ne.push("return this.data.get("+se+")}"):ne.push("return this.data["+se+"]}"),ne.push("proto.index=function "+ee+"_index(",oe.join(),"){return "+se+"}"),ne.push("proto.hi=function "+ee+"_hi("+oe.join(",")+"){return new "+ee+"(this.data,"+ie.map(function(ze){return["(typeof i",ze,"!=='number'||i",ze,"<0)?this.shape[",ze,"]:i",ze,"|0"].join("")}).join(",")+","+ie.map(function(ze){return"this.stride["+ze+"]"}).join(",")+",this.offset)}");var xe=ie.map(function(ze){return"a"+ze+"=this.shape["+ze+"]"}),de=ie.map(function(ze){return"c"+ze+"=this.stride["+ze+"]"});ne.push("proto.lo=function "+ee+"_lo("+oe.join(",")+"){var b=this.offset,d=0,"+xe.join(",")+","+de.join(","));for(var pe=0;pe<X;++pe)ne.push("if(typeof i"+pe+"==='number'&&i"+pe+">=0){d=i"+pe+"|0;b+=c"+pe+"*d;a"+pe+"-=d}");ne.push("return new "+ee+"(this.data,"+ie.map(function(ze){return"a"+ze}).join(",")+","+ie.map(function(ze){return"c"+ze}).join(",")+",b)}"),ne.push("proto.step=function "+ee+"_step("+oe.join(",")+"){var "+ie.map(function(ze){return"a"+ze+"=this.shape["+ze+"]"}).join(",")+","+ie.map(function(ze){return"b"+ze+"=this.stride["+ze+"]"}).join(",")+",c=this.offset,d=0,ceil=Math.ceil");for(var pe=0;pe<X;++pe)ne.push("if(typeof i"+pe+"==='number'){d=i"+pe+"|0;if(d<0){c+=b"+pe+"*(a"+pe+"-1);a"+pe+"=ceil(-a"+pe+"/d)}else{a"+pe+"=ceil(a"+pe+"/d)}b"+pe+"*=d}");ne.push("return new "+ee+"(this.data,"+ie.map(function(ze){return"a"+ze}).join(",")+","+ie.map(function(ze){return"b"+ze}).join(",")+",c)}");for(var ce=Array(X),ue=Array(X),pe=0;pe<X;++pe)ce[pe]="a[i"+pe+"]",ue[pe]="b[i"+pe+"]";ne.push("proto.transpose=function "+ee+"_transpose("+oe+"){"+oe.map(function(ze,he){return ze+"=("+ze+"===undefined?"+he+":"+ze+"|0)"}).join(";"),"var a=this.shape,b=this.stride;return new "+ee+"(this.data,"+ce.join(",")+","+ue.join(",")+",this.offset)}"),ne.push("proto.pick=function "+ee+"_pick("+oe+"){var a=[],b=[],c=this.offset");for(var pe=0;pe<X;++pe)ne.push("if(typeof i"+pe+"==='number'&&i"+pe+">=0){c=(c+this.stride["+pe+"]*i"+pe+")|0}else{a.push(this.shape["+pe+"]);b.push(this.stride["+pe+"])}");ne.push("var ctor=CTOR_LIST[a.length+1];return ctor(this.data,a,b,c)}"),ne.push("return function construct_"+ee+"(data,shape,stride,offset){return new "+ee+"(data,"+ie.map(function(ze){return"shape["+ze+"]"}).join(",")+","+ie.map(function(ze){return"stride["+ze+"]"}).join(",")+",offset)}");var ae=new Function("CTOR_LIST","ORDER",ne.join("\n"));return ae(J[Y],F)}function H(Y){if(Q(Y))return"buffer";if($)switch(Object.prototype.toString.call(Y)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object Uint8ClampedArray]":return"uint8_clamped";}return Array.isArray(Y)?"array":"generic"}var K=S("iota-array"),Q=S("is-buffer"),$="undefined"!=typeof Float64Array,J={float32:[],float64:[],int8:[],int16:[],int32:[],uint8:[],uint16:[],uint32:[],array:[],uint8_clamped:[],buffer:[],generic:[]};(function(){for(var Y in J)J[Y].push(V(Y,-1))}),N.exports=function(Y,X,ee,te){if(Y===void 0){var ne=J.array[0];return ne([])}"number"==typeof Y&&(Y=[Y]);X===void 0&&(X=[Y.length]);var ae=X.length;if(ee===void 0){ee=Array(ae);for(var ie=ae-1,oe=1;0<=ie;--ie)ee[ie]=oe,oe*=X[ie]}if(void 0===te){te=0;for(var ie=0;ie<ae;++ie)0>ee[ie]&&(te-=(X[ie]-1)*ee[ie])}for(var se=H(Y),ye=J[se];ye.length<=ae+1;)ye.push(V(se,ye.length-1));var ne=ye[ae+1];return ne(Y,X,ee,te)}},{"iota-array":14,"is-buffer":15}],17:[function(S,N){"use strict";function O(H,G){for(var K=1,Q=H.length,$=H[0],J=H[0],Y=1;Y<Q;++Y)if(J=$,$=H[Y],G($,J)){if(Y===K){K++;continue}H[K++]=$}return H.length=K,H}function F(H){for(var G=1,K=H.length,Q=H[0],$=H[0],J=1;J<K;++J,$=Q)if($=Q,Q=H[J],Q!==$){if(J===G){G++;continue}H[G++]=Q}return H.length=G,H}N.exports=function(H,G,K){return 0===H.length?H:G?(K||H.sort(G),O(H,G)):(K||H.sort(),F(H))}},{}],18:[function(S,N){var O=S("./utils.js"),F=S("./kd-tree-javascript/kdTree.js");kd_tree_sample_points=[{x:-0.9425,y:-0.2041,z:-0.2648},{x:0.5224,y:0.7539,z:0.3985},{x:0.5528,y:0.0429,z:-0.8322},{x:0.6499,y:0.0243,z:-0.7596},{x:0.6986,y:0.1199,z:-0.7054},{x:-0.0303,y:0.9929,z:-0.1151},{x:0.8482,y:0.0839,z:-0.523},{x:0.9526,y:0.0586,z:-0.2985},{x:-0.2253,y:-0.1544,z:-0.962},{x:0.9065,y:0.0667,z:-0.4168},{x:0.9313,y:-0.0364,z:-0.3625},{x:0.9274,y:0.2528,z:-0.2755},{x:0.9601,y:0.1575,z:-0.2311},{x:0.9827,y:0.0588,z:-0.1759},{x:0.4552,y:0.2145,z:0.8641},{x:0.0245,y:0.6354,z:0.7718},{x:0.9838,y:0.1794,z:3e-4},{x:0.9944,y:0.084,z:0.0637},{x:0.1522,y:0.2044,z:-0.967},{x:0.9784,y:0.1048,z:0.1784},{x:0.1846,y:0.8742,z:-0.449},{x:0.9353,y:0.0254,z:0.3528},{x:0.8863,y:0.0396,z:0.4613},{x:-0.4683,y:0.2315,z:0.8527},{x:0.8514,y:-0.0566,z:0.5215},{x:0.8241,y:0.0513,z:0.5642},{x:0.7803,y:-0.0439,z:0.6238},{x:0.0253,y:-0.074,z:0.9969},{x:0.6571,y:0.0871,z:0.7487},{x:0.5676,y:0.1304,z:0.8129},{x:0.4011,y:0.0242,z:0.9157},{x:-0.1442,y:0.9656,z:0.2165},{x:0.373,y:-0.9271,z:-0.0358},{x:0.3781,y:0.2043,z:-0.903},{x:0.5067,y:0.1507,z:-0.8489},{x:0.6084,y:0.1352,z:-0.782},{x:0.6523,y:0.2322,z:-0.7215},{x:0.7786,y:0.1026,z:-0.619},{x:0.7782,y:0.4864,z:-0.3974},{x:0.8083,y:0.1983,z:-0.5544},{x:0.8251,y:0.2929,z:-0.4831},{x:0.9227,y:0.1605,z:-0.3506},{x:-0.193,y:-0.2652,z:-0.9447},{x:0.2991,y:-0.7068,z:-0.641},{x:0.942,y:0.2887,z:-0.1714},{x:0.9597,y:0.2731,z:-0.0659},{x:0.9245,y:0.3775,z:-0.0524},{x:0.9124,y:0.4034,z:0.0693},{x:0.8871,y:0.4228,z:0.1851},{x:0.9539,y:0.297,z:0.0444},{x:0.9485,y:0.2208,z:0.227},{x:0.9358,y:0.3163,z:0.1556},{x:0.9052,y:0.3318,z:0.2656},{x:0.911,y:0.2363,z:0.3379},{x:0.8596,y:0.2498,z:0.4457},{x:0.8511,y:0.1507,z:0.5028},{x:0.5268,y:-0.1617,z:-0.8345},{x:0.4062,y:-0.869,z:-0.2825},{x:0.7849,y:0.1609,z:0.5984},{x:0.6297,y:0.2089,z:0.7482},{x:-0.4992,y:-0.5457,z:0.6731},{x:0.4784,y:0.1069,z:0.8716},{x:0.3721,y:0.1418,z:0.9173},{x:0.294,y:0.059,z:0.954},{x:0.1776,y:0.0098,z:-0.9841},{x:0.4599,y:0.2507,z:-0.8518},{x:0.5606,y:0.245,z:-0.791},{x:0.8616,y:0.3439,z:0.3733},{x:0.591,y:0.3426,z:-0.7303},{x:0.6792,y:0.3292,z:-0.6559},{x:0.698,y:0.4219,z:-0.5786},{x:0.7573,y:0.313,z:-0.5732},{x:0.7092,y:0.5082,z:-0.4887},{x:0.8347,y:0.3809,z:-0.3977},{x:0.839,y:0.4548,z:-0.2988},{x:0.7755,y:0.5572,z:-0.297},{x:0.8357,y:0.5103,z:-0.2028},{x:0.8797,y:0.4629,z:-0.1087},{x:0.7105,y:0.5858,z:-0.3899},{x:0.8213,y:0.5628,z:-0.0929},{x:0.8731,y:0.4875,z:1e-4},{x:0.8536,y:0.5093,z:0.1093},{x:0.8232,y:0.5241,z:0.2183},{x:0.7814,y:0.5319,z:0.3263},{x:0.8495,y:0.4357,z:0.2975},{x:-0.2468,y:0.1027,z:0.9636},{x:0.7977,y:0.4449,z:0.4071},{x:0.1627,y:-0.231,z:0.9593},{x:0.7389,y:0.3623,z:0.5681},{x:0.7948,y:0.2599,z:0.5484},{x:0.6632,y:0.3722,z:0.6494},{x:0.5757,y:0.434,z:0.6929},{x:0.5132,y:0.374,z:0.7725},{x:0.5376,y:0.2555,z:0.8036},{x:0.3492,y:0.2587,z:0.9006},{x:0.2158,y:-0.026,z:0.9761},{x:0.231,y:0.1126,z:-0.9664},{x:0.2889,y:0.32,z:-0.9023},{x:0.3872,y:0.336,z:-0.8586},{x:0.4929,y:0.3498,z:-0.7966},{x:0.6143,y:0.4353,z:-0.6581},{x:0.4626,y:0.6167,z:-0.6369},{x:-0.6389,y:0.0488,z:-0.7677},{x:0.6308,y:0.5228,z:-0.5734},{x:0.8405,y:-0.507,z:0.1908},{x:0.6358,y:0.6762,z:-0.3721},{x:0.7049,y:0.6511,z:-0.2813},{x:0.2048,y:-0.448,z:0.8703},{x:0.7686,y:0.6112,z:-0.1887},{x:0.6725,y:0.7383,z:-0.0519},{x:0.7523,y:0.6547,z:-0.0744},{x:0.8087,y:0.5879,z:0.0188},{x:0.7329,y:0.6792,z:0.0388},{x:0.7873,y:-0.6015,z:0.1353},{x:0.569,y:0.7715,z:0.2847},{x:-0.1491,y:-0.2403,z:0.9592},{x:0.7501,y:0.6177,z:0.2361},{x:-0.785,y:0.5957,z:0.1702},{x:0.6162,y:0.6969,z:0.367},{x:0.7255,y:0.5343,z:0.4339},{x:0.652,y:0.6136,z:0.4454},{x:0.7248,y:0.4607,z:0.5123},{x:0.6498,y:0.4717,z:0.596},{x:0.4806,y:0.488,z:0.7286},{x:-0.6173,y:0.7753,z:0.1334},{x:0.4338,y:0.3253,z:0.8403},{x:0.2405,y:0.2983,z:0.9237},{x:0.2661,y:0.1811,z:0.9468},{x:0.2703,y:0.2162,z:-0.9382},{x:0.4466,y:0.8881,z:0.1087},{x:0.3099,y:0.429,z:-0.8485},{x:0.3354,y:0.5265,z:-0.7812},{x:0.4417,y:0.5321,z:-0.7223},{x:-0.7669,y:-0.1,z:-0.6339},{x:0.5554,y:0.6141,z:-0.5607},{x:-0.7876,y:0.4996,z:-0.3608},{x:0.5594,y:0.6906,z:-0.4585},{x:0.626,y:0.7356,z:-0.2588},{x:0.7031,y:0.6952,z:0.1496},{x:0.4621,y:-0.1997,z:0.864},{x:0.5381,y:0.8103,z:-0.2322},{x:0.6084,y:0.7806,z:-0.143},{x:0.582,y:0.8127,z:-0.0279},{x:0.6463,y:0.7606,z:0.0617},{x:0.5501,y:0.8307,z:0.0855},{x:0.5624,y:-0.2132,z:0.7989},{x:0.664,y:0.7017,z:0.2585},{x:0.7224,y:-0.6868,z:0.0807},{x:-0.0298,y:0.3762,z:-0.9261},{x:0.5645,y:0.6711,z:0.4806},{x:0.4687,y:0.7228,z:0.5077},{x:0.6256,y:0.5636,z:0.5394},{x:0.5548,y:0.5351,z:0.6371},{x:-0.4648,y:0.833,z:0.3002},{x:0.4522,y:0.5876,z:0.6709},{x:0.3754,y:0.5376,z:0.755},{x:0.4077,y:0.4334,z:0.8037},{x:0.0966,y:0.4429,z:0.8914},{x:-0.0566,y:-0.9558,z:0.2885},{x:0.1077,y:0.0948,z:-0.9897},{x:0.2017,y:0.4148,z:-0.8873},{x:0.5197,y:0.4436,z:-0.7302},{x:0.2489,y:0.6064,z:-0.7552},{x:0.2711,y:0.6883,z:-0.6729},{x:0.3592,y:0.6144,z:-0.7025},{x:0.3791,y:0.6935,z:-0.6126},{x:0.2903,y:0.7607,z:-0.5805},{x:0.3883,y:0.7669,z:-0.5109},{x:0.3818,y:0.8329,z:-0.4007},{x:0.3598,y:0.8862,z:-0.2918},{x:0.4628,y:0.8271,z:-0.3188},{x:-0.1835,y:0.306,z:0.9342},{x:0.4391,y:0.8744,z:-0.2065},{x:0.5134,y:0.85,z:-0.118},{x:0.482,y:0.8762,z:-0.0044},{x:0.484,y:-0.3078,z:0.8191},{x:0.128,y:0.3348,z:0.9335},{x:0.512,y:0.8358,z:0.1982},{x:0.4699,y:0.8258,z:0.3118},{x:0.3654,y:0.8692,z:0.3332},{x:0.423,y:0.8014,z:0.423},{x:0.522,y:0.6279,z:0.5773},{x:0.3662,y:0.7653,z:0.5294},{x:0.258,y:0.798,z:0.5447},{x:0.3434,y:0.6325,z:0.6943},{x:0.4017,y:-0.7699,z:0.4959},{x:0.264,y:0.5758,z:0.7738},{x:0.2969,y:0.4765,z:0.8275},{x:0.213,y:0.4087,z:0.8875},{x:0.1571,y:0.2192,z:0.963},{x:0.0338,y:0.1872,z:-0.9817},{x:0.1778,y:0.311,z:-0.9336},{x:0.6041,y:-0.7333,z:-0.3119},{x:0.1352,y:0.5942,z:-0.7929},{x:-0.5395,y:-0.4109,z:-0.7349},{x:0.1568,y:0.6791,z:-0.7171},{x:0.1087,y:-0.6415,z:-0.7594},{x:0.1768,y:0.7534,z:-0.6333},{x:0.0925,y:-0.5496,z:-0.8303},{x:0.2947,y:0.8282,z:-0.4767},{x:-0.7825,y:0.1475,z:-0.6049},{x:0.2749,y:0.8865,z:-0.3722},{x:0.7211,y:-0.3034,z:-0.6228},{x:0.3303,y:0.9261,z:-0.1825},{x:0.3376,y:0.9323,z:0.1298},{x:0.2606,y:0.9647,z:0.0375},{x:0.4078,y:0.8857,z:0.2218},{x:0.2982,y:0.9237,z:0.2406},{x:-0.2396,y:0.4107,z:-0.8797},{x:0.8711,y:0.1783,z:-0.4575},{x:0.2562,y:0.9013,z:0.3492},{x:0.2108,y:0.8654,z:0.4546},{x:0.3189,y:0.8386,z:0.4417},{x:0.145,y:0.8198,z:0.554},{x:0.7,y:-0.5315,z:0.477},{x:0.3049,y:0.7191,z:0.6244},{x:0.2295,y:0.6664,z:0.7094},{x:0.1898,y:0.7478,z:0.6362},{x:0.1472,y:0.6066,z:0.7813},{x:0.0623,y:0.5436,z:0.837},{x:0.0763,y:0.1349,z:0.9879},{x:0.0624,y:0.2954,z:-0.9533},{x:0.0871,y:0.4001,z:-0.9123},{x:0.3691,y:-0.8047,z:-0.465},{x:-0.048,y:0.7293,z:-0.6825},{x:-0.6396,y:0.7299,z:0.2411},{x:0.0646,y:0.7522,z:-0.6557},{x:0.8438,y:-0.4136,z:-0.342},{x:0.0872,y:0.8233,z:-0.5609},{x:0.0781,y:0.8946,z:-0.44},{x:0.1588,y:0.9243,z:-0.3471},{x:0.0424,y:0.9421,z:-0.3328},{x:0.1262,y:0.9618,z:-0.243},{x:0.2466,y:0.9318,z:-0.2665},{x:0.2133,y:0.9639,z:-0.1597},{x:0.0913,y:0.9865,z:-0.1361},{x:0.2965,y:0.9523,z:-0.0727},{x:-0.0677,y:0.9977,z:-0.0047},{x:0.178,y:0.9827,z:-0.0517},{x:0.7488,y:0.0605,z:0.6601},{x:0.2231,y:0.9636,z:0.1471},{x:0.1033,y:0.9811,z:0.1636},{x:0.1427,y:0.9218,z:0.3604},{x:0.0997,y:0.881,z:0.4625},{x:0.0641,y:0.9612,z:0.2682},{x:0.0694,y:0.7668,z:0.6382},{x:-0.0169,y:0.7166,z:0.6972},{x:0.1103,y:0.6919,z:0.7135},{x:-0.0998,y:0.6557,z:0.7484},{x:-0.0584,y:0.5691,z:0.8202},{x:-0.0211,y:0.4718,z:0.8815},{x:0.0124,y:0.3659,z:0.9306},{x:0.045,y:0.2541,z:0.9661},{x:-0.0551,y:0.2675,z:-0.962},{x:-4e-3,y:0.4795,z:-0.8775},{x:-0.0673,y:0.6417,z:-0.764},{x:-0.6821,y:0.7297,z:0.0471},{x:-0.1518,y:0.7,z:-0.6979},{x:-0.0348,y:0.8001,z:-0.5989},{x:0.6401,y:-0.291,z:-0.711},{x:-0.1488,y:0.7913,z:-0.593},{x:-0.1151,y:0.8558,z:-0.5043},{x:-0.0421,y:0.9104,z:-0.4115},{x:-0.1567,y:0.904,z:-0.3978},{x:-0.1948,y:0.9369,z:-0.2904},{x:-0.1145,y:0.9729,z:-0.2008},{x:-0.1515,y:0.9843,z:-0.091},{x:-0.4692,y:0.063,z:-0.8808},{x:0.4747,y:0.6953,z:-0.5396},{x:-0.1885,y:0.9819,z:0.0205},{x:-0.1057,y:0.9887,z:0.106},{x:0.0169,y:0.9965,z:0.0814},{x:-0.1837,y:0.9266,z:0.3282},{x:-0.0634,y:0.9527,z:0.2971},{x:-0.1039,y:0.9096,z:0.4023},{x:-0.0142,y:0.8852,z:0.4651},{x:0.0264,y:0.8309,z:0.5557},{x:-0.1031,y:0.8475,z:0.5207},{x:0.2068,y:-0.6779,z:-0.7054},{x:-0.0618,y:0.7868,z:0.6141},{x:-0.1801,y:0.5848,z:0.7909},{x:-0.1393,y:0.494,z:0.8583},{x:-0.8438,y:-0.463,z:0.2714},{x:-0.0364,y:0.1688,z:0.985},{x:-0.1683,y:0.2374,z:-0.9567},{x:-0.1216,y:0.4501,z:-0.8847},{x:-0.0947,y:0.5487,z:-0.8306},{x:-0.1829,y:0.6088,z:-0.772},{x:-0.2701,y:0.6536,z:-0.707},{x:-0.234,y:0.7372,z:-0.6338},{x:-0.285,y:0.7855,z:-0.5493},{x:-0.2225,y:0.8469,z:-0.483},{x:-0.3395,y:0.8249,z:-0.4521},{x:-0.2707,y:0.8862,z:-0.376},{x:-0.3087,y:0.9128,z:-0.2675},{x:-0.2318,y:0.9559,z:-0.1801},{x:-0.3451,y:0.9257,z:-0.1548},{x:0.7136,y:0.2696,z:0.6466},{x:-0.2687,y:0.9609,z:-0.0675},{x:-0.3047,y:0.9513,z:0.046},{x:-0.4148,y:0.9067,z:0.0758},{x:-0.2251,y:0.9653,z:0.1326},{x:-0.2586,y:0.9338,z:0.2473},{x:-0.3581,y:0.8912,z:0.2785},{x:-0.1636,y:-0.1226,z:0.9789},{x:-0.1991,y:0.8678,z:0.4554},{x:-0.2778,y:0.8831,z:0.3781},{x:0.4746,y:0.7669,z:-0.432},{x:-0.2832,y:0.8148,z:0.5058},{x:-0.1437,y:0.7314,z:0.6667},{x:0.9489,y:0.1232,z:0.2906},{x:-0.2233,y:0.6642,z:0.7134},{x:0.9079,y:-0.071,z:0.4131},{x:-0.103,y:0.392,z:0.9142},{x:-0.2626,y:0.2148,z:0.9407},{x:-0.0787,y:0.1501,z:-0.9855},{x:-0.1468,y:0.3464,z:-0.9265},{x:-0.2126,y:0.5126,z:-0.8319},{x:-0.3017,y:0.5626,z:-0.7697},{x:0.7844,y:0.6069,z:0.1284},{x:-0.9995,y:0.032,z:0.0087},{x:-0.3459,y:0.7023,z:-0.6222},{x:-0.4518,y:0.6594,z:-0.6009},{x:-0.3995,y:0.7489,z:-0.5287},{x:-0.6044,y:0.6423,z:-0.4713},{x:-0.3851,y:0.8548,z:-0.348},{x:-0.4935,y:0.8081,z:-0.3216},{x:-0.5209,y:0.8268,z:-0.2124},{x:-0.4186,y:0.8759,z:-0.2399},{x:-0.4534,y:0.8824,z:-0.1258},{x:-0.3813,y:0.9236,z:-0.0401},{x:0.8824,y:0.2712,z:-0.3845},{x:-0.4876,y:0.873,z:-0.0091},{x:-0.5171,y:0.849,z:0.1084},{x:-0.3372,y:0.9276,z:0.1607},{x:-3e-3,y:0.8608,z:-0.5089},{x:-0.4804,y:0.7781,z:0.4048},{x:-0.3848,y:0.7901,z:0.4771},{x:-0.3625,y:0.7348,z:0.5733},{x:-0.9911,y:-0.0428,z:0.1264},{x:-0.2609,y:0.7375,z:0.6229},{x:-0.8758,y:0.0725,z:0.4772},{x:-0.34,y:0.6627,z:0.6673},{x:-0.259,y:0.5067,z:0.8223},{x:-0.2188,y:0.4123,z:0.8844},{x:-0.4272,y:0.0449,z:0.903},{x:-0.1884,y:0.1246,z:-0.9742},{x:-0.2628,y:0.3033,z:-0.9159},{x:-0.3299,y:0.4643,z:-0.822},{x:-0.414,y:0.5157,z:-0.7501},{x:-0.5188,y:0.4615,z:-0.7196},{x:-0.4888,y:0.5637,z:-0.6658},{x:-0.552,y:0.6068,z:-0.5719},{x:-0.5055,y:0.7006,z:-0.5036},{x:-0.5509,y:0.7323,z:-0.4002},{x:-0.5957,y:0.7486,z:-0.291},{x:-0.6453,y:0.6707,z:-0.3657},{x:-0.8289,y:-0.0099,z:0.5594},{x:-0.6927,y:0.675,z:-0.2543},{x:-0.6143,y:0.7677,z:-0.1827},{x:-0.791,y:0.5591,z:-0.2484},{x:-0.5542,y:0.8269,z:-0.0952},{x:-0.5859,y:0.81,z:0.024},{x:-0.4533,y:-0.0577,z:-0.8895},{x:0.6376,y:0.6041,z:-0.4781},{x:-0.7078,y:0.6893,z:0.1545},{x:-0.5447,y:0.8099,z:0.2176},{x:-0.5635,y:0.7597,z:0.3244},{x:-0.6487,y:0.6762,z:0.3492},{x:-0.4726,y:0.7186,z:0.5102},{x:-0.554,y:0.6387,z:0.534},{x:-0.3829,y:0.6125,z:-0.6916},{x:-0.4975,y:0.4979,z:0.7104},{x:-0.4209,y:0.5839,z:0.6942},{x:-0.3816,y:0.5073,z:0.7727},{x:-0.3364,y:0.4241,z:0.8408},{x:-0.2959,y:0.3258,z:0.8979},{x:0.106,y:0.012,z:0.9943},{x:-0.2818,y:0.1905,z:-0.9404},{x:0.7198,y:-0.5001,z:-0.4814},{x:-0.3544,y:0.3592,z:-0.8634},{x:-0.4612,y:0.302,z:-0.8343},{x:-0.1872,y:0.799,z:0.5714},{x:0.0066,y:0.9744,z:-0.2246},{x:-0.5881,y:0.5058,z:-0.6311},{x:-0.6458,y:0.5454,z:-0.5344},{x:-0.7332,y:0.4808,z:-0.4809},{x:-0.6967,y:0.5739,z:-0.4305},{x:-0.6806,y:0.4421,z:-0.5843},{x:-0.7701,y:0.6184,z:-0.1565},{x:-0.731,y:0.5983,z:-0.3281},{x:-0.6972,y:0.7015,z:-0.148},{x:-0.8101,y:0.5847,z:-0.0434},{x:-0.7372,y:0.6743,z:-0.0438},{x:-0.3344,y:-0.1017,z:-0.9369},{x:-0.7666,y:0.6391,z:0.0624},{x:-0.7412,y:-0.5639,z:-0.3643},{x:-0.7217,y:0.6405,z:0.2625},{x:-0.7238,y:0.5834,z:0.3684},{x:-0.9242,y:0.381,z:-0.0272},{x:-0.645,y:0.6148,z:0.4538},{x:-0.6281,y:0.5486,z:0.5519},{x:0.2056,y:-0.0969,z:-0.9738},{x:0.6931,y:0.701,z:-0.1678},{x:-0.5647,y:0.4003,z:0.7217},{x:-0.4563,y:0.4197,z:0.7846},{x:-0.4489,y:0.7844,z:-0.428},{x:-0.4093,y:0.3354,z:0.8485},{x:-0.1534,y:0.1925,z:0.9692},{x:0.9774,y:0.1726,z:-0.1217},{x:-0.3738,y:0.2477,z:-0.8938},{x:-0.5558,y:0.2381,z:-0.7965},{x:-0.4485,y:0.6571,z:0.6059},{x:-0.5422,y:0.3535,z:-0.7623},{x:-0.616,y:0.4004,z:-0.6784},{x:-0.7147,y:0.2203,z:-0.6638},{x:-0.761,y:0.3699,z:-0.5329},{x:-0.8039,y:0.4078,z:-0.4329},{x:-0.897,y:0.2891,z:-0.3343},{x:-0.9045,y:0.3564,z:-0.2344},{x:-0.8549,y:0.3924,z:-0.3395},{x:-0.2367,y:-0.5384,z:-0.8088},{x:-0.8956,y:0.4231,z:-0.1376},{x:0.4088,y:0.9077,z:-0.0944},{x:-0.8734,y:0.4859,z:-0.0326},{x:-0.8937,y:0.442,z:0.0773},{x:-0.8359,y:0.5446,z:0.0684},{x:-0.901,y:0.3919,z:0.1862},{x:-0.8491,y:0.4971,z:0.1785},{x:-0.8404,y:0.377,z:0.3894},{x:-0.7924,y:0.5433,z:0.2773},{x:-0.8509,y:0.4406,z:0.2861},{x:-0.788,y:0.4832,z:0.3816},{x:-0.7722,y:0.415,z:0.4811},{x:-0.7451,y:0.3405,z:0.5736},{x:-0.6923,y:0.4484,z:0.5653},{x:-0.6191,y:0.2914,z:0.7292},{x:0.7103,y:0.1674,z:0.6838},{x:0.2117,y:-0.8454,z:0.4905},{x:0.3399,y:-0.883,z:0.3237},{x:-0.0055,y:0.0495,z:0.9988},{x:-0.1348,y:0.0302,z:-0.9904},{x:-0.2808,y:0.0672,z:-0.9574},{x:-0.4711,y:0.1843,z:-0.8626},{x:-0.6328,y:0.2882,z:-0.7187},{x:-0.6413,y:0.171,z:-0.748},{x:-0.7022,y:0.3322,z:-0.6297},{x:-0.7815,y:0.2631,z:-0.5657},{x:0.1412,y:0.9884,z:0.0565},{x:-0.8376,y:0.3025,z:-0.4548},{x:-0.888,y:0.2086,z:-0.4098},{x:-0.2688,y:-0.9286,z:0.256},{x:-0.9349,y:0.1658,z:-0.3137},{x:-0.941,y:0.3133,z:-0.1283},{x:-0.9628,y:0.2694,z:-0.0203},{x:-0.1435,y:-0.4813,z:-0.8647},{x:-0.939,y:0.3339,z:0.0824},{x:-0.9716,y:0.2199,z:0.0875},{x:-0.9058,y:0.0963,z:-0.4125},{x:-0.9403,y:0.2819,z:0.1905},{x:-0.897,y:0.3316,z:0.2922},{x:-0.714,y:0.5188,z:0.4702},{x:-0.8804,y:0.2655,z:0.393},{x:-0.8184,y:0.3052,z:0.4868},{x:-0.8528,y:0.1904,z:0.4863},{x:-0.7856,y:0.2265,z:0.5757},{x:-0.7483,y:-0.2219,z:-0.6251},{x:-0.6596,y:0.1761,z:0.7307},{x:-0.5678,y:0.2059,z:0.797},{x:-0.4902,y:0.1264,z:0.8624},{x:-0.3696,y:0.233,z:0.8995},{x:-0.6277,y:-0.7784,z:2e-3},{x:0.0688,y:-0.9925,z:-0.1015},{x:-0.3692,y:0.0059,z:-0.9293},{x:-0.552,y:-0.0031,z:-0.8338},{x:-0.7153,y:0.0994,z:-0.6917},{x:0.0547,y:0.9981,z:-0.0277},{x:-0.7807,y:0.0274,z:-0.6243},{x:-0.8422,y:0.1859,z:-0.506},{x:-0.8438,y:0.0767,z:-0.5312},{x:-0.97,y:-0.1392,z:0.1994},{x:0.0243,y:0.9292,z:0.3687},{x:0.3428,y:0.1021,z:-0.9338},{x:-0.9698,y:0.1217,z:-0.2112},{x:-0.9796,y:0.0023,z:-0.2008},{x:-0.9726,y:0.1985,z:-0.1212},{x:-0.9426,y:0.2438,z:-0.2284},{x:-0.9881,y:0.1531,z:-0.0128},{x:-0.9906,y:0.0993,z:0.0943},{x:-0.9668,y:0.1671,z:0.1932},{x:-0.9525,y:0.0954,z:0.2891},{x:0.1838,y:0.9493,z:0.2551},{x:-0.0779,y:0.9482,z:-0.3079},{x:-0.9266,y:0.031,z:0.3748},{x:-0.8141,y:0.1087,z:0.5705},{x:-0.7419,y:0.1432,z:0.6551},{x:-0.6837,y:0.0592,z:0.7274},{x:-0.5944,y:0.0936,z:0.7987},{x:-0.5288,y:0.0106,z:0.8487},{x:0.1947,y:0.8177,z:-0.5418},{x:-0.1203,y:0.0842,z:0.9892},{x:-0.2392,y:-0.0348,z:-0.9703},{x:-0.5331,y:-0.1214,z:-0.8373},{x:-0.6274,y:-0.0729,z:-0.7752},{x:-0.7094,y:-0.0238,z:-0.7044},{x:-0.2971,y:-0.8401,z:0.4539},{x:-0.6603,y:0.3729,z:0.6519},{x:-0.8314,y:-0.049,z:-0.5535},{x:-0.8868,y:-0,z:-0.4622},{x:-0.8782,y:-0.1168,z:-0.4637},{x:0.225,y:0.5151,z:-0.8271},{x:-0.9284,y:-0.0423,z:-0.3691},{x:-0.959,y:-0.0857,z:-0.2702},{x:-0.9849,y:-0.1664,z:-0.0485},{x:-0.9949,y:-0.0415,z:-0.0921},{x:-0.9967,y:-0.0784,z:0.019},{x:0.9727,y:0.202,z:0.1144},{x:-0.9371,y:-0.1745,z:0.3022},{x:-0.9805,y:0.0459,z:0.191},{x:-0.9204,y:-0.2783,z:0.2745},{x:-0.9306,y:-0.0793,z:0.3573},{x:-0.9648,y:-0.0392,z:0.26},{x:-0.8851,y:-0.0446,z:0.4633},{x:-0.8366,y:-0.13,z:0.5322},{x:-0.7741,y:-0.0963,z:0.6257},{x:-0.7063,y:-0.1805,z:0.6845},{x:-0.7017,y:-0.0616,z:0.7098},{x:-0.6282,y:-0.1448,z:0.7645},{x:-0.6198,y:-0.0262,z:0.7843},{x:-0.3585,y:0.1286,z:0.9247},{x:-0.3286,y:0.0095,z:0.9444},{x:0.8513,y:-0.5228,z:-0.045},{x:-0.4221,y:-0.1687,z:-0.8907},{x:-0.5033,y:-0.2328,z:-0.8322},{x:-0.6043,y:-0.1916,z:-0.7734},{x:-0.6916,y:-0.1479,z:-0.707},{x:-0.6676,y:-0.2657,z:-0.6955},{x:-0.8182,y:-0.1718,z:-0.5486},{x:-0.7756,y:-0.6312,z:0.0074},{x:-0.6004,y:0.4779,z:0.6413},{x:-0.8319,y:-0.3501,z:-0.4305},{x:-0.3776,y:0.8432,z:0.3827},{x:-0.8932,y:-0.2817,z:-0.3505},{x:-0.9782,y:-0.1271,z:-0.1639},{x:-0.9244,y:-0.3568,z:-0.1348},{x:-0.9602,y:-0.274,z:-0.054},{x:-0.9615,y:-0.2691,z:0.0556},{x:-0.9266,y:-0.3759,z:-0.013},{x:-0.9027,y:-0.3726,z:0.2154},{x:0.2015,y:-0.9477,z:-0.2474},{x:0.1105,y:-0.9386,z:-0.3268},{x:-0.8668,y:-0.3693,z:0.3352},{x:-0.8844,y:-0.2638,z:0.3851},{x:-0.8896,y:-0.1607,z:0.4275},{x:-0.8336,y:-0.2439,z:0.4956},{x:0.5379,y:-0.1063,z:0.8363},{x:-0.7747,y:-0.2142,z:0.595},{x:-0.7018,y:-0.2963,z:0.6478},{x:-0.628,y:-0.2618,z:0.7329},{x:-0.4426,y:-0.0642,z:0.8944},{x:0.6113,y:0.7722,z:0.1734},{x:-0.1982,y:0.0016,z:0.9802},{x:-0.1339,y:-0.0907,z:-0.9868},{x:-0.3793,y:0.1278,z:-0.9164},{x:-0.1804,y:-0.88,z:0.4394},{x:-0.5759,y:-0.3033,z:-0.7592},{x:0.7352,y:0.2167,z:-0.6424},{x:-0.6361,y:-0.3771,z:-0.6732},{x:-0.7958,y:-0.2903,z:-0.5314},{x:-0.721,y:-0.3377,z:-0.6051},{x:-0.9307,y:0.2172,z:0.2944},{x:-0.7612,y:-0.4045,z:-0.5069},{x:-0.8583,y:-0.3969,z:-0.3252},{x:-0.9143,y:-0.3224,z:-0.2452},{x:-0.8131,y:-0.5043,z:-0.2908},{x:-0.8751,y:-0.4339,z:-0.2143},{x:-0.8841,y:-0.4579,z:-0.0937},{x:-0.8714,y:-0.4668,z:0.1507},{x:-0.3026,y:0.588,z:0.7501},{x:-0.7077,y:-0.7044,z:-0.0539},{x:-0.313,y:-0.2184,z:-0.9243},{x:-0.8266,y:-0.5567,z:0.0824},{x:-0.7736,y:-0.544,z:0.325},{x:-0.8018,y:-0.4522,z:0.3907},{x:-0.6672,y:-0.5077,z:0.5451},{x:-0.8229,y:-0.3505,z:0.4473},{x:-0.7503,y:-0.4324,z:0.5001},{x:-0.7666,y:-0.3271,z:0.5525},{x:-0.6882,y:-0.4058,z:0.6014},{x:-0.617,y:-0.3734,z:0.6928},{x:-0.537,y:-0.3379,z:0.773},{x:-0.5454,y:-0.2249,z:0.8074},{x:-0.3614,y:-0.1311,z:0.9231},{x:0.1862,y:0.0975,z:0.9777},{x:0.8099,y:-0.5151,z:-0.2805},{x:-0.2807,y:-0.3295,z:-0.9015},{x:-0.4734,y:-0.3426,z:-0.8115},{x:-0.3602,y:-0.3954,z:-0.8449},{x:-0.4335,y:-0.4484,z:-0.7816},{x:-0.5851,y:-0.4816,z:-0.6524},{x:-0.681,y:-0.4477,z:-0.5795},{x:-0.6209,y:-0.5448,z:-0.5637},{x:-0.7157,y:-0.5108,z:-0.4762},{x:-0.7912,y:-0.4614,z:-0.4015},{x:-0.6655,y:-0.6451,z:-0.3753},{x:-0.7621,y:-0.5995,z:-0.2445},{x:-0.8287,y:-0.5328,z:-0.1714},{x:-0.775,y:-0.6207,z:-0.1193},{x:-0.835,y:-0.5484,z:-0.0452},{x:-0.8828,y:-0.4686,z:0.0328},{x:-0.7045,y:-0.7067,z:0.0651},{x:-0.8401,y:0.5232,z:-0.1429},{x:-0.8082,y:-0.5522,z:0.2048},{x:-0.7595,y:-0.636,z:0.1368},{x:-0.7332,y:-0.63,z:0.2561},{x:-0.7251,y:-0.5308,z:0.4387},{x:-0.6918,y:-0.6209,z:0.3687},{x:-0.6386,y:-0.6019,z:0.4795},{x:0.1816,y:0.5116,z:0.8398},{x:-0.5742,y:-0.5752,z:0.5825},{x:-0.5987,y:-0.4782,z:0.6425},{x:-0.4409,y:0.8767,z:0.1926},{x:-0.4493,y:-0.2979,z:0.8423},{x:-0.344,y:-0.361,z:0.8668},{x:-0.4554,y:-0.1837,z:0.8711},{x:0.706,y:0.6205,z:0.3414},{x:-0.6464,y:0.7605,z:-0.0609},{x:-0.4609,y:-0.8136,z:0.3545},{x:-0.3483,y:-0.5175,z:-0.7816},{x:-0.4801,y:-0.5154,z:-0.7098},{x:0.3855,y:-0.728,z:-0.567},{x:-0.4433,y:-0.6686,z:-0.597},{x:-0.519,y:-0.5817,z:-0.6263},{x:-0.5484,y:-0.6422,z:-0.5355},{x:-0.5706,y:-0.6948,z:-0.4377},{x:-0.5131,y:-0.8117,z:-0.279},{x:-0.591,y:-0.735,z:-0.3325},{x:-0.6851,y:-0.6748,z:-0.2745},{x:-0.6104,y:-0.76,z:-0.2233},{x:-0.6443,y:-0.7063,z:0.2932},{x:-0.7009,y:-0.6934,z:-0.1673},{x:-0.5393,y:-0.8408,z:-0.0467},{x:-0.6223,y:-0.7738,z:0.1186},{x:-0.5425,y:-0.8367,z:0.0749},{x:0.742,y:-0.5628,z:0.3643},{x:-0.6775,y:-0.7108,z:0.1891},{x:-0.5568,y:-0.7671,z:0.3186},{x:-0.5666,y:0.7014,z:0.4324},{x:-0.8503,y:0.463,z:-0.2501},{x:-0.5432,y:-0.664,z:0.5138},{x:-0.4163,y:-0.5091,z:0.7533},{x:-0.3917,y:-0.6049,z:0.6933},{x:-0.3268,y:-0.4665,z:0.8219},{x:-0.2322,y:-0.4163,z:0.8791},{x:-0.3562,y:-0.2496,z:0.9005},{x:-0.2583,y:-0.1983,z:0.9455},{x:-0.0369,y:-0.0324,z:-0.9988},{x:-0.1693,y:-0.3769,z:-0.9106},{x:-0.2599,y:-0.442,z:-0.8585},{x:-0.4085,y:-0.5972,z:-0.6903},{x:-0.3053,y:-0.6128,z:-0.7289},{x:-0.3658,y:-0.7533,z:-0.5466},{x:-0.9087,y:0.1493,z:0.3898},{x:-0.4702,y:-0.7288,z:-0.4977},{x:-0.3903,y:-0.8069,z:-0.4434},{x:0.7702,y:-0.5864,z:0.251},{x:-0.4928,y:-0.7773,z:-0.3912},{x:-0.412,y:-0.8481,z:-0.3331},{x:-0.5297,y:-0.8322,z:-0.1641},{x:-0.4403,y:0.4121,z:-0.7977},{x:-0.4436,y:-0.8906,z:-0.1009},{x:-0.5405,y:-0.1069,z:0.8345},{x:-0.4518,y:-0.8919,z:0.0188},{x:-0.4301,y:-0.876,z:-0.2182},{x:-0.4708,y:-0.8469,z:0.2473},{x:-0.3706,y:-0.9051,z:0.2085},{x:-0.37,y:-0.8702,z:0.3252},{x:-0.5663,y:-0.7973,z:0.2086},{x:-0.5071,y:-0.7436,z:0.4359},{x:0.7099,y:-0.6764,z:0.1961},{x:-0.4382,y:-0.7243,z:0.5323},{x:-0.4713,y:-0.639,z:0.6079},{x:-0.3625,y:-0.6928,z:0.6234},{x:-0.2775,y:-0.6581,z:0.6999},{x:-0.3046,y:-0.5659,z:0.7661},{x:-0.2131,y:-0.5183,z:0.8282},{x:-0.2473,y:-0.3094,z:0.9182},{x:-0.0222,y:0.9815,z:0.19},{x:-0.0758,y:-0.3089,z:-0.9481},{x:0.5416,y:0.5314,z:-0.6514},{x:-0.9916,y:0.077,z:-0.104},{x:-0.114,y:-0.5796,z:-0.8069},{x:-0.1952,y:-0.6296,z:-0.752},{x:-0.2553,y:-0.7698,z:-0.585},{x:0.112,y:0.5,z:-0.8588},{x:-0.1665,y:-0.8309,z:-0.531},{x:-0.2817,y:-0.8264,z:-0.4875},{x:-0.2164,y:-0.9231,z:-0.3178},{x:-0.3056,y:-0.8724,z:-0.3815},{x:-0.3258,y:-0.9064,z:-0.2689},{x:-0.1397,y:-0.9814,z:-0.1314},{x:-0.3417,y:-0.9274,z:-0.1519},{x:0.3688,y:-0.9256,z:0.0851},{x:-0.3534,y:-0.9349,z:-0.032},{x:-0.7076,y:0.2605,z:0.6568},{x:-0.2484,y:-0.9649,z:-0.0853},{x:-0.2651,y:-0.9531,z:0.1462},{x:-0.3643,y:-0.9269,z:0.09},{x:-0.2692,y:-0.8925,z:0.362},{x:-0.3948,y:-0.2837,z:-0.8738},{x:-0.9503,y:0.0483,z:-0.3074},{x:-0.329,y:-0.7715,z:0.5445},{x:-0.2137,y:-0.8165,z:0.5362},{x:-0.2461,y:-0.7419,z:0.6237},{x:0.9062,y:0.1385,z:0.3996},{x:-0.1889,y:-0.6144,z:0.7661},{x:-0.0981,y:-0.5588,z:0.8235},{x:-0.1183,y:-0.4584,z:0.8808},{x:-0.1353,y:-0.3521,z:0.9261},{x:0.0475,y:-0.3508,z:-0.9352},{x:-0.0508,y:-0.4132,z:-0.9092},{x:-0.0245,y:-0.5115,z:-0.8589},{x:-0.9516,y:-0.2559,z:0.1704},{x:-0.1051,y:-0.6875,z:-0.7185},{x:-0.2257,y:-0.7038,z:-0.6736},{x:-0.138,y:-0.7662,z:-0.6276},{x:-0.0767,y:-0.8832,z:-0.4627},{x:0.0175,y:-0.9175,z:-0.3974},{x:-0.1933,y:-0.883,z:-0.4278},{x:-0.1029,y:-0.9276,z:-0.3592},{x:-0.0098,y:-0.9567,z:-0.2909},{x:-0.0292,y:-0.984,z:-0.1756},{x:0.8777,y:-0.0262,z:-0.4785},{x:-0.2347,y:-0.9507,z:-0.2029},{x:-0.1501,y:-0.9886,z:-0.0139},{x:0.1662,y:-0.8336,z:-0.5267},{x:-0.0405,y:-0.9975,z:-0.0578},{x:-0.0508,y:-0.9834,z:0.174},{x:0.0519,y:-0.9679,z:0.2459},{x:-0.1557,y:-0.9826,z:0.1017},{x:0.0371,y:-0.9317,z:0.3613},{x:-0.0723,y:-0.9124,z:0.4028},{x:0.0139,y:-0.8808,z:0.4734},{x:-0.0967,y:-0.8531,z:0.5127},{x:-0.0126,y:-0.8151,z:0.5792},{x:-0.1289,y:-0.7833,z:0.6082},{x:-0.0434,y:-0.7389,z:0.6724},{x:-0.0726,y:-0.6528,z:0.7541},{x:0.0163,y:-0.5916,z:0.8061},{x:-0.0223,y:-0.389,z:0.9209},{x:-0.0388,y:-0.2781,z:0.9598},{x:-0.0018,y:-0.1375,z:-0.9905},{x:-0.0077,y:-0.6069,z:-0.7947},{x:0.0061,y:-0.6891,z:-0.7246},{x:-0.0237,y:-0.7624,z:-0.6466},{x:-0.0498,y:-0.828,z:-0.5586},{x:0.0725,y:-0.8041,z:-0.59},{x:0.022,y:0.5772,z:-0.8163},{x:-0.1002,y:-0.1994,z:-0.9748},{x:0.0457,y:-0.8667,z:-0.4967},{x:0.1397,y:-0.8925,z:-0.4288},{x:0.2301,y:-0.908,z:-0.35},{x:0.0824,y:-0.9724,z:-0.2184},{x:0.1784,y:-0.9732,z:-0.1449},{x:0.0652,y:-0.9978,z:0.0141},{x:-0.1635,y:-0.9306,z:0.3275},{x:0.1691,y:-0.9823,z:0.0811},{x:0.059,y:-0.9898,z:0.13},{x:0.1603,y:-0.9671,z:0.1976},{x:-0.8609,y:-0.2341,z:-0.4517},{x:0.1467,y:-0.9377,z:0.3149},{x:0.1258,y:-0.8945,z:0.429},{x:-0.5201,y:0.319,z:0.7923},{x:0.0987,y:-0.8378,z:0.537},{x:0.1813,y:-0.784,z:0.5937},{x:0.0708,y:-0.7659,z:0.639},{x:0.1533,y:-0.706,z:0.6914},{x:0.0418,y:-0.6832,z:0.729},{x:-4e-3,y:-0.4935,z:0.8697},{x:0.11,y:-0.5226,z:0.8455},{x:-0.0854,y:-0.0362,z:0.9957},{x:-0.9573,y:-0.2404,z:-0.1603},{x:0.0732,y:-0.4517,z:-0.8892},{x:0.1894,y:-0.4854,z:-0.8535},{x:0.2057,y:-0.5827,z:-0.7862},{x:0.102,y:-0.7311,z:-0.6746},{x:0.195,y:-0.7634,z:-0.6158},{x:0.2848,y:-0.7876,z:-0.5464},{x:0.9667,y:-0.2206,z:0.13},{x:0.2556,y:-0.8537,z:-0.4537},{x:0.3069,y:-0.9196,z:-0.2455},{x:-0.4356,y:-0.4065,z:0.8032},{x:-0.9165,y:-0.1621,z:-0.3658},{x:0.2811,y:-0.953,z:-0.1128},{x:0.2758,y:-0.9611,z:0.016},{x:-0.9243,y:-0.3671,z:0.1047},{x:0.1762,y:-0.9838,z:-0.0338},{x:0.267,y:-0.9536,z:0.1392},{x:0.2534,y:-0.9316,z:0.2604},{x:0.3572,y:-0.9113,z:0.2049},{x:0.2336,y:-0.2057,z:-0.9503},{x:-0.0703,y:0.2818,z:0.9569},{x:0.2356,y:-0.8949,z:0.3791},{x:0.3205,y:-0.839,z:0.4397},{x:0.295,y:-0.7839,z:0.5463},{x:0.609,y:0.3156,z:0.7276},{x:0.2617,y:-0.7197,z:0.6431},{x:0.2373,y:-0.6364,z:0.734},{x:0.3336,y:-0.5625,z:0.7565},{x:0.1285,y:-0.6175,z:0.776},{x:0.0913,y:-0.4211,z:0.9024},{x:-0.9823,y:-0.1656,z:0.0874},{x:0.1409,y:-0.2755,z:-0.9509},{x:0.1674,y:-0.3825,z:-0.9087},{x:0.2825,y:-0.417,z:-0.8639},{x:0.3002,y:-0.5178,z:-0.8011},{x:0.3053,y:-0.6157,z:-0.7264},{x:0.416,y:0.4393,z:-0.7962},{x:0.3978,y:-0.641,z:-0.6564},{x:0.4836,y:-0.6581,z:-0.5771},{x:0.3357,y:-0.8673,z:-0.3675},{x:0.4483,y:-0.8108,z:-0.3764},{x:0.3766,y:-0.9131,z:-0.1564},{x:0.5231,y:-0.8049,z:-0.2802},{x:0.4717,y:-0.8599,z:-0.1952},{x:0.4709,y:-0.8785,z:-0.0807},{x:0.5626,y:-0.8263,z:-0.0268},{x:0.468,y:-0.8831,z:0.0342},{x:-0.2701,y:-0.082,z:0.9593},{x:0.6463,y:-0.7581,z:-0.0868},{x:0.4592,y:-0.8755,z:0.1505},{x:0.9705,y:0.0071,z:0.2409},{x:0.4429,y:-0.856,z:0.2666},{x:0.4218,y:-0.8223,z:0.382},{x:0.6836,y:-0.0874,z:-0.7246},{x:0.5943,y:-0.7131,z:0.3719},{x:0.4158,y:0.6789,z:0.6051},{x:0.4723,y:-0.6849,z:0.5548},{x:0.3433,y:-0.6455,z:0.6823},{x:0.4402,y:-0.6,z:0.6679},{x:-0.464,y:-0.8747,z:0.1404},{x:0.2225,y:-0.5455,z:0.808},{x:0.1846,y:-0.3431,z:0.921},{x:0.0725,y:-0.3126,z:0.9471},{x:0.1134,y:-0.1624,z:-0.9802},{x:0.2599,y:-0.3125,z:-0.9137},{x:0.3893,y:-0.4438,z:-0.8072},{x:0.3995,y:-0.546,z:-0.7364},{x:0.4907,y:-0.5678,z:-0.661},{x:0.575,y:-0.5816,z:-0.5754},{x:0.5633,y:-0.6654,z:-0.4898},{x:0.4649,y:-0.7401,z:-0.486},{x:0.6381,y:-0.6607,z:-0.3954},{x:0.5379,y:-0.7421,z:-0.4001},{x:0.6284,y:-0.7501,z:-0.206},{x:-6e-4,y:0.0683,z:-0.9977},{x:0.5603,y:-0.8152,z:-0.1468},{x:0.7129,y:-0.6832,z:-0.1581},{x:0.725,y:-0.6877,z:-0.0371},{x:0.5569,y:-0.8256,z:0.0907},{x:0.6465,y:-0.7623,z:0.0301},{x:-0.6025,y:-0.6878,z:0.4049},{x:0.6377,y:-0.7564,z:0.1456},{x:0.5437,y:-0.8134,z:0.2069},{x:0.5226,y:-0.7896,z:0.3217},{x:0.6883,y:-0.6565,z:0.3087},{x:0.4963,y:-0.7508,z:0.4358},{x:0.5605,y:-0.6724,z:0.4834},{x:0.6172,y:-0.5855,z:0.5256},{x:0.5299,y:-0.5994,z:0.5999},{x:0.4262,y:-0.5026,z:0.7521},{x:0.3171,y:-0.4712,z:0.823},{x:0.296,y:-0.3699,z:0.8806},{x:0.3254,y:0.3706,z:0.87},{x:0.2734,y:-0.2613,z:0.9257},{x:0.0227,y:-0.2456,z:-0.9691},{x:0.3466,y:-0.2298,z:-0.9094},{x:0.3707,y:-0.3385,z:-0.8648},{x:0.4852,y:-0.4675,z:-0.7389},{x:0.5656,y:-0.3816,z:-0.731},{x:0.5722,y:-0.4854,z:-0.6611},{x:0.6507,y:-0.4961,z:-0.5748},{x:-0.6469,y:-0.5997,z:-0.471},{x:0.6536,y:-0.5861,z:-0.4788},{x:0.7227,y:-0.5897,z:-0.3604},{x:0.6922,y:-0.6657,z:-0.2786},{x:0.5536,y:0.7568,z:-0.3475},{x:0.7668,y:-0.6005,z:-0.227},{x:-0.3374,y:-0.6887,z:-0.6418},{x:0.787,y:-0.6081,z:-0.1043},{x:0.7939,y:-0.6078,z:0.017},{x:0.852,y:-0.5182,z:0.0741},{x:-0.056,y:-0.1604,z:0.9855},{x:0.6203,y:-0.7401,z:0.2597},{x:-0.521,y:-0.4451,z:0.7283},{x:-0.3986,y:-0.8014,z:0.4459},{x:-0.6233,y:-0.774,z:-0.1118},{x:0.6569,y:-0.6272,z:0.4184},{x:0.6161,y:-0.5079,z:0.602},{x:0.8124,y:-0.0097,z:-0.583},{x:0.8995,y:-0.3259,z:-0.291},{x:0.5899,y:-0.4194,z:0.69},{x:0.4033,y:-0.3977,z:0.8241},{x:0.382,y:-0.2891,z:0.8778},{x:0.3559,y:-0.1772,z:0.9176},{x:0.0528,y:-0.1969,z:0.979},{x:0.3185,y:-0.1174,z:-0.9406},{x:0.4526,y:-0.2528,z:-0.8551},{x:0.473,y:-0.3616,z:-0.8034},{x:0.7257,y:-0.404,z:-0.557},{x:0.5507,y:-0.2732,z:-0.7887},{x:0.6498,y:-0.3962,z:-0.6487},{x:-0.5597,y:0.1185,z:-0.8202},{x:0.8513,y:-0.2198,z:-0.4765},{x:0.5208,y:-0.5129,z:0.6824},{x:0.7924,y:-0.4048,z:-0.4563},{x:0.0445,y:0.6696,z:-0.7414},{x:0.7757,y:-0.4992,z:-0.3861},{x:0.8755,y:-0.4266,z:-0.2268},{x:-0.16,y:-0.7031,z:0.6929},{x:0.8962,y:-0.4305,z:-0.1073},{x:0.8379,y:-0.5206,z:-0.1639},{x:0.9033,y:-0.4288,z:0.0128},{x:0.376,y:-0.7087,z:0.5969},{x:0.8979,y:-0.4199,z:0.1319},{x:0.8503,y:-0.3829,z:0.361},{x:0.8178,y:-0.4883,z:0.3046},{x:0.5998,y:0.0042,z:0.8001},{x:0.7826,y:-0.464,z:0.4151},{x:0.7314,y:-0.4393,z:0.5217},{x:0.7479,y:-0.331,z:0.5753},{x:0.6734,y:-0.4159,z:0.6112},{x:0.668,y:-0.318,z:0.6728},{x:0.5797,y:-0.3178,z:0.7503},{x:0.4998,y:-0.4132,z:0.7612},{x:-0.5288,y:0.5726,z:0.6265},{x:0.4338,y:-0.0891,z:0.8966},{x:0.2458,y:-0.1465,z:0.9582},{x:0.0798,y:-0.0428,z:-0.9959},{x:0.4256,y:-0.1407,z:-0.8939},{x:0.9894,y:-0.1356,z:-0.0516},{x:0.3743,y:0.9271,z:0.0177},{x:0.6213,y:-0.1816,z:-0.7622},{x:0.7071,y:-0.1975,z:-0.679},{x:0.7839,y:-0.2094,z:-0.5845},{x:0.7935,y:-0.3097,z:-0.5239},{x:0.8974,y:-0.1292,z:-0.422},{x:0.9054,y:-0.228,z:-0.3581},{x:0.8548,y:-0.3171,z:-0.4108},{x:0.9433,y:-0.2341,z:-0.2352},{x:0.9269,y:-0.3341,z:-0.1711},{x:0.9649,y:-0.2374,z:-0.1122},{x:0.8805,y:-0.4041,z:0.2479},{x:0.9725,y:-0.2328,z:0.0104},{x:0.9411,y:-0.3345,z:-0.0494},{x:0.9899,y:-0.1241,z:0.0687},{x:0.9419,y:-0.3281,z:0.0716},{x:0.4439,y:0.0755,z:-0.8929},{x:0.9302,y:-0.3143,z:0.1898},{x:-0.2588,y:-0.9654,z:0.0323},{x:0.9053,y:-0.2956,z:0.3051},{x:0.8057,y:-0.3593,z:0.471},{x:0.8132,y:-0.2509,z:0.5251},{x:0.7396,y:-0.2305,z:0.6324},{x:0.7213,y:-0.1275,z:0.6807},{x:0.6542,y:-0.2159,z:0.7249},{x:-0.7617,y:0.0246,z:0.6475},{x:0.5081,y:0.0016,z:0.8613},{x:0.9005,y:0.3921,z:-0.1881},{x:0.2894,y:-6e-4,z:-0.9572},{x:0.3935,y:-0.0238,z:-0.919},{x:0.494,y:-0.0464,z:-0.8682},{x:0.5929,y:-0.0697,z:-0.8023},{x:0.7363,y:0.0076,z:-0.6766},{x:0.7649,y:-0.103,z:-0.6358},{x:0.8366,y:-0.118,z:-0.5349},{x:0.7713,y:0.4042,z:-0.4916},{x:0.8043,y:0.3558,z:0.476},{x:-0.124,y:-0.9609,z:-0.2477},{x:0.944,y:-0.1359,z:-0.3007},{x:0.9701,y:-0.0408,z:-0.2393},{x:0.9747,y:-0.1385,z:-0.1756},{x:0.9928,y:-0.0379,z:-0.114},{x:0.9996,y:-0.0261,z:0.0061},{x:0.9957,y:0.0727,z:-0.0575},{x:-0.1601,y:-0.9633,z:0.2154},{x:0.9919,y:-0.0126,z:0.1261},{x:0.9762,y:-0.1091,z:0.1874},{x:0.9473,y:-0.2038,z:0.2472},{x:0.9144,y:-0.1837,z:0.3607},{x:0.9491,y:-0.0894,z:0.3019},{x:0.8665,y:-0.2742,z:0.4171},{x:0.867,y:-0.1637,z:0.4707},{x:0.802,y:-0.1479,z:0.5787},{x:0.8877,y:0.355,z:-0.2931},{x:0.6933,y:-0.0221,z:0.7203},{x:0.6313,y:-0.1092,z:0.7678},{x:-0.0455,y:-0.9973,z:0.0585},{x:0.325,y:-0.0616,z:0.9437},{x:0.1355,y:-0.1114,z:0.9845}],kd_tree_points_with_index=kd_tree_sample_points.map((V,H)=>{return V.index=H,V}),N.exports=new F.kdTree(kd_tree_points_with_index,O.euclideanDist,["x","y","z"])},{"./kd-tree-javascript/kdTree.js":5,"./utils.js":20}],19:[function(S,N){function O(G,K,Q,$){var J=F(new Float32Array(K.data.length),K.shape),Y=V({args:["array","array","array"],body:function(ze,he,me){ze=he*me}}),X=V({args:["array","array"],pre:function(){this.prod=0},body:function(ze,he){this.prod+=ze*he},post:function(){return this.prod}}),ee=V({args:["array","array","array"],body:function(ze,he,me){ze=he-me}}),te=V({args:["array","array",{blockIndices:-1},{offset:[-1,0],array:1},{offset:[0,-1],array:1},{offset:[0,1],array:1},{offset:[1,0],array:1}],pre:function(){this.log=!0},body:function(ze,he,me,ge,fe,be,Se){ge===void 0&&(ge=0),fe===void 0&&(fe=0),be===void 0&&(be=0),Se===void 0&&(Se=0),ze=ge*me[0]+fe*me[1]+be*me[2]+Se*me[3]+he*me[4]}}),ne=V({args:["scalar","array","scalar","array"],body:function(ze,he,me,ge){he=ze*he+me*ge}});V({args:["array",{blockIndices:-1}],body:function(ze,he){ze=1e-5<Math.abs(he[4])?1/he[4]:1}})(J,G);var ae=F(new Float32Array(K.data.length),K.shape),ie=F(new Float32Array(K.data.length),K.shape),oe=F(new Float32Array(K.data.length),K.shape),se=F(new Float32Array(K.data.length),K.shape),ye=F(new Float32Array(K.data.length),K.shape),le=0,xe=0;te(se,Q,G),ee(ae,K,se),Y(ie,ae,J),oe.data=ie.data.slice(0),xe=X(ie,ae);for(var de=0;de<$;++de){te(ye,oe,G);var pe=le/X(ye,oe);ne(1,Q,pe,oe),ne(1,ae,-pe,ye);ae.data.reduce((ze,he)=>Math.max(Math.abs(he),ze));Y(ie,J,ae),le=X(ie,ae);var ue=le/xe;ne(ue,oe,1,ie),xe=le}}var F=S("ndarray"),V=S("cwise"),H=S("./sample_1000.js");transmittanceMap=function(G,K){function Q(je,Ae,Le){var _e=[(te.get(je+Le[0],Ae+Le[1],0)-te.get(je,Ae,0))/255,(te.get(je+Le[0],Ae+Le[1],1)-te.get(je,Ae,1))/255,(te.get(je+Le[0],Ae+Le[1],2)-te.get(je,Ae,2))/255].reduce((De,Ne)=>De+Ne*Ne,0)+ke;return 2*Se/_e}for(var $=G.getContext("2d"),J=G.width,Y=G.height,X=J*Y,ee=[Y,J],te=F($.getImageData(0,0,J,Y).data,[Y,J,4]),ne=window.kd_tree_points_with_index.length,ae=F(new Uint16Array(X),ee),ie=F(new Float32Array(ne),[ne]),oe=F(new Float32Array(X),ee),se=0;se<Y;++se)for(var ye=0;ye<J;++ye){var le=[te.get(se,ye,0)/255-K[0],te.get(se,ye,1)/255-K[1],te.get(se,ye,2)/255-K[2]],xe=Math.sqrt(le[0]*le[0]+le[1]*le[1]+le[2]*le[2]);oe.set(se,ye,xe);var de={x:le[0]/xe,y:le[1]/xe,z:le[2]/xe},pe=H.nearest(de,1,0.1)[0][0].index;ae.set(se,ye,pe),ie.set(pe,Math.max(ie.get(pe),xe))}for(var ce=F(new Float32Array(X),ee),ue=V({args:[{blockIndices:-1}],pre:function(){this.res=[256,256,256]},body:function(je){this.res=[Math.min(this.res[0],je[0]),Math.min(this.res[1],je[1]),Math.min(this.res[2],je[2])]},post:function(){return this.res}})(te).reduce((je,Ae,Le)=>{return Math.min(je,1-Ae/(255*K[Le]))},1),ce=F(new Float32Array(X),ee),se=0;se<Y;++se)for(var ye=0;ye<J;++ye){var ze=ue*oe.get(se,ye)/ie.get(ae.get(se,ye)),he=[te.get(se,ye,0)/255/K[0],te.get(se,ye,1)/255/K[1],te.get(se,ye,2)/255/K[2]].reduce((je,Ae)=>Math.min(je,Ae));ce.set(se,ye,Math.max(ze,1-he))}var me=F(new Float32Array(ne),[ne]),ge=F(new Float32Array(ne),[ne]),fe=F(new Uint32Array(ne),[ne]);ce.data.forEach((je,Ae)=>{var Le=ae.data[Ae];me.set(Le,me.get(Le)+je),ge.set(Le,ge.get(Le)+je*je),fe.set(Le,fe.get(Le)+1)});var be=F(new Float32Array(ne),[ne]);V({args:["array","array","array","array"],body:function(je,Ae,Le,_e){var Be=Ae/_e,De=Le/_e-Be*Be;je=0==De?0:1/De}})(be,me,ge,fe);for(var Se=0.5,ke=1e-6,Ee=F(new Float32Array(5*X),ee.concat(5)),Ie=F(new Float32Array(X),ee),se=0;se<Y;++se)for(var we,ye=0;ye<J;++ye)we=be.get(ae.get(se,ye)),Ie.set(se,ye,we),Ee.set(se,ye,4,we);for(var se=0;se<Y;++se)for(var ye=0;ye<J;++ye){if(0<se){var we=Q(se,ye,[-1,0]);Ee.set(se,ye,0,-we),Ee.set(se,ye,4,Ee.get(se,ye,4)+we)}if(0<ye){var we=Q(se,ye,[0,-1]);Ee.set(se,ye,1,-we),Ee.set(se,ye,4,Ee.get(se,ye,4)+we)}if(ye<J-1){var we=Q(se,ye,[0,1]);Ee.set(se,ye,2,-we),Ee.set(se,ye,4,Ee.get(se,ye,4)+we)}if(se<Y-1){var we=Q(se,ye,[1,0]);Ee.set(se,ye,3,-we),Ee.set(se,ye,4,Ee.get(se,ye,4)+we)}}var ve=F(new Float32Array(X),ee),Ce=V({args:["array","array","array"],body:function(je,Ae,Le){je=Ae*Le}});return Ce(ve,Ie,ce),O(Ee,ve,ce,75),ce.data},N.exports=transmittanceMap},{"./sample_1000.js":18,cwise:12,ndarray:16}],20:[function(S,N){function G(X){return[...Array(X).keys()]}flatten=function(X,ee=[]){for(let te=0,ne=X.length;te<ne;te++){const ae=X[te];Array.isArray(ae)?flatten(ae,ee):ee.push(ae)}return ee},N.exports.makeColorArray=function(X,ee=!1){var te=X.getContext("2d"),ne=Array.from(te.getImageData(0,0,X.width,X.height).data);ee&&ne.map(oe=>oe/255);for(var ae=Array(Math.ceil(ne.length/4)).fill(),ie=0;ie<ae.length;++ie)ae[ie]=[ne[4*ie],ne[4*ie+1],ne[4*ie+2]];return ae},N.exports.arange=function(X,ee,te){var ne=Math.floor((te-X)/ee)+1;return Array(ne).fill().map((ae,ie)=>X+ie*ee)},N.exports.linRange=function(X,ee,te){return Array(ee).fill().map((ae,ie)=>X+ie*((te-X)/(ee-1)))},N.exports.cartesian=function(X,ee){return[].concat(...X.map(te=>ee.map(ne=>[te,ne])))},N.exports.range=function(X,ee){return[...Array(ee-X).keys()].map(ne=>ne+X)},N.exports.list2dict3D=function(X){var ee=X.map(te=>{return{x:te[0],y:te[1],z:te[2]}});return ee},N.exports.dict2list3D=function(X){return X.map(ee=>[ee.x,ee.y,ee.z])},N.exports.euclideanDist=function(X,ee){var te={x:X.x-ee.x,y:X.y-ee.y,z:X.z-ee.z};return Math.sqrt(te.x*te.x+te.y*te.y+te.z*te.z)},N.exports.angleDist=function(X,ee){var te=X.x*ee.x+X.y*ee.y+X.z*ee.z;return te=Math.max(-1,Math.min(te,1)),2*(Math.acos(te)/Math.PI)},N.exports.flatten=flatten,N.exports.cloneCanvas=function(X){var ee=document.createElement("canvas"),te=ee.getContext("2d");return ee.width=X.width,ee.height=X.height,te.drawImage(X,0,0),ee}},{}]},{},[6]);